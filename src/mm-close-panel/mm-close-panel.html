<!--
 * @license
 * Copyright (c) 2015 MediaMath Inc. All rights reserved.
 * This code may only be used under the BSD style license found at http://mediamath.github.io/strand/LICENSE.txt

-->
<link rel="import" href="../shared/js/windownotifier.html"/>
<link rel="import" href="../shared/js/rectangle.html"/>
<link rel="import" href="../../bower_components/polymerLegacy/polymer.html"/>
<link rel="import" href="../mm-stack-manager/mm-stack-manager.html"/>
<link rel="import" href="../mm-close-manager/mm-close-manager.html"/>
<link rel="import" href="../mm-icon/mm-icon.html"/>
<polymer-element name="mm-close-panel" attributes="state target align valign calcAlign calcValign offsetX offsetY mode auto targetFilter scope fitparent stackType" constructor="MMClosePanel">
	<template>
		<link href="mm-close-panel.css" rel="stylesheet" type="text/css"/>
		<mm-stack-manager id="stack" type="{{stackType}}" target="{{}}"></mm-stack-manager>
		<mm-close-manager target="{{target}}" on-close="{{close}}" targetFilter="{{targetFilter}}" scope="{{scope}}"></mm-close-manager>
		<div id="container" class="cp-container {{ {_mm_dropdown:mode == 'dropdown', _mm_tooltip:mode == 'tooltip', _mm_popover:mode == 'popover', _mm_close:auto == false, _mm_bottom:calcValign == 'BOTTOM', _mm_top:calcValign == 'TOP', _mm_center:calcValign=='VCENTER'} | tokenList }} {{ {_mm_left:calcAlign == 'LEFT', _mm_right:calcAlign == 'RIGHT', _mm_center:calcAlign=='CENTER'} | tokenList }}">
			<content id="content"></content>
			<mm-icon id="closeIcon" type="delete" class="_mm_close_icon {{ {_mm_visible:auto == false} | tokenList }}" width="8" height="8" primaryColor="[[CLOSE_ICON_COLOR]]" hoverColor="[[CLOSE_ICON_HOVER]]"></mm-icon>
		</div>
		<div class="_mm_arrow {{ {_mm_dropdown:mode == 'dropdown', _mm_tooltip:mode == 'tooltip', _mm_popover:mode == 'popover', _mm_bottom:calcValign == 'BOTTOM', _mm_top:calcValign == 'TOP', _mm_center:calcValign=='VCENTER'} | tokenList }} {{ {_mm_left:calcAlign == 'LEFT', _mm_right:calcAlign == 'RIGHT', _mm_center:calcAlign=='CENTER'} | tokenList }}"></div>
	</template>
	<script src="mm-close-panel.js"></script>
</polymer-element>
