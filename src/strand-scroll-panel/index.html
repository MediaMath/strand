<!DOCTYPE html>
<html>
	<head>
		<script language="javascript" src="../../bower_components/webcomponentsjs/webcomponents-lite.js"></script>
		<link rel="import" href="../mm-list-item/mm-list-item.html">
		<link rel="import" href="../mm-button/mm-button.html">
		<link rel="import" href="mm-scroll-panel.html">
		<style type="text/css">
			body {
				background: #eee;
			}

			.holder {
				margin: 25px;
			}

			mm-list-item {
				-webkit-transform: translate3d(0, 0, 0);
				transform: translate3d(0, 0, 0);
			}

			mm-scroll-panel {
				background: #fff;
				width: 300px;
				height: 150px;
			}

			mm-scroll-panel[unresolved],
			mm-button[unresolved] {
				display: none;
			}
		</style>
	</head>
	<body>
		<dom-module id="x-test">
			<template>
				<mm-scroll-panel id="isp">
					<content></content>
				</mm-scroll-panel>
			</template>
		</dom-module>
		<div class="holder">
			
			<mm-scroll-panel id="sp" unresolved>
				<mm-list-item>Item Name Here, Etc.</mm-list-item>
				<mm-list-item>Item Name Here, Etc.</mm-list-item>
				<mm-list-item>Item Name Here, Etc.</mm-list-item>
				<mm-list-item>Item Name Here, Etc.</mm-list-item>
				<mm-list-item>Item Name Here, Etc.</mm-list-item>
				<mm-list-item>Item Name Here, Etc.</mm-list-item>
				<mm-list-item>Item Name Here, Etc.</mm-list-item>
				<mm-list-item>Item Name Here, Etc.</mm-list-item>
				<mm-list-item>Item Name Here, Etc.</mm-list-item>
				<mm-list-item>Item Name Here, Etc.</mm-list-item>
				<mm-list-item>Item Name Here, Etc.</mm-list-item>
				<mm-list-item>Item Name Here, Etc.</mm-list-item>
				<mm-list-item>Item Name Here, Etc.</mm-list-item>
				<mm-list-item>Item Name Here, Etc.</mm-list-item>
				<mm-list-item>Item Name Here, Etc.</mm-list-item>
				<mm-list-item>Item Name Here, Etc.</mm-list-item>
				<mm-list-item>Item Name Here, Etc.</mm-list-item>
				<mm-list-item>Item Name Here, Etc.</mm-list-item>
				<mm-list-item>Item Name Here, Etc.</mm-list-item>
				<mm-list-item>Item Name Here, Etc.</mm-list-item>
				<mm-list-item>Item Name Here, Etc.</mm-list-item>
				<mm-list-item>Item Name Here, Etc.</mm-list-item>
				<mm-list-item>Item Name Here, Etc.</mm-list-item>
				<mm-list-item>Item Name Here, Etc.</mm-list-item>
				<mm-list-item>Item Name Here, Etc.</mm-list-item>
				<mm-list-item>Item Name Here, Etc.</mm-list-item>
				<mm-list-item>Item Name Here, Etc.</mm-list-item>
				<mm-list-item>Item Name Here, Etc.</mm-list-item>
				<mm-list-item>Item Name Here, Etc.</mm-list-item>
				<mm-list-item>Item Name Here, Etc.</mm-list-item>
				<mm-list-item>Item Name Here, Etc.</mm-list-item>
				<mm-list-item>Item Name Here, Etc.</mm-list-item>
				<mm-list-item>Item Name Here, Etc.</mm-list-item>
				<mm-list-item>Item Name Here, Etc.</mm-list-item>
				<mm-list-item>Item Name Here, Etc.</mm-list-item>
				<mm-list-item>Item Name Here, Etc.</mm-list-item>
				<mm-list-item>Item Name Here, Etc.</mm-list-item>
				<mm-list-item>Item Name Here, Etc.</mm-list-item>
				<mm-list-item>Item Name Here, Etc.</mm-list-item>
				<mm-list-item>Item Name Here, Etc.</mm-list-item>
			</mm-scroll-panel>
			
			<!-- test inside another component with light dom passed thru -->
			<!--
			<x-test id="sp">
				<mm-list-item>Item Name Here, Etc.</mm-list-item>
				<mm-list-item>Item Name Here, Etc.</mm-list-item>
				<mm-list-item>Item Name Here, Etc.</mm-list-item>
				<mm-list-item>Item Name Here, Etc.</mm-list-item>
				<mm-list-item>Item Name Here, Etc.</mm-list-item>
				<mm-list-item>Item Name Here, Etc.</mm-list-item>
				<mm-list-item>Item Name Here, Etc.</mm-list-item>
				<mm-list-item>Item Name Here, Etc.</mm-list-item>
				<mm-list-item>Item Name Here, Etc.</mm-list-item>
				<mm-list-item>Item Name Here, Etc.</mm-list-item>
				<mm-list-item>Item Name Here, Etc.</mm-list-item>
				<mm-list-item>Item Name Here, Etc.</mm-list-item>
				<mm-list-item>Item Name Here, Etc.</mm-list-item>
				<mm-list-item>Item Name Here, Etc.</mm-list-item>
				<mm-list-item>Item Name Here, Etc.</mm-list-item>
				<mm-list-item>Item Name Here, Etc.</mm-list-item>
				<mm-list-item>Item Name Here, Etc.</mm-list-item>
				<mm-list-item>Item Name Here, Etc.</mm-list-item>
				<mm-list-item>Item Name Here, Etc.</mm-list-item>
				<mm-list-item>Item Name Here, Etc.</mm-list-item>
				<mm-list-item>Item Name Here, Etc.</mm-list-item>
				<mm-list-item>Item Name Here, Etc.</mm-list-item>
				<mm-list-item>Item Name Here, Etc.</mm-list-item>
				<mm-list-item>Item Name Here, Etc.</mm-list-item>
				<mm-list-item>Item Name Here, Etc.</mm-list-item>
				<mm-list-item>Item Name Here, Etc.</mm-list-item>
				<mm-list-item>Item Name Here, Etc.</mm-list-item>
				<mm-list-item>Item Name Here, Etc.</mm-list-item>
				<mm-list-item>Item Name Here, Etc.</mm-list-item>
				<mm-list-item>Item Name Here, Etc.</mm-list-item>
				<mm-list-item>Item Name Here, Etc.</mm-list-item>
				<mm-list-item>Item Name Here, Etc.</mm-list-item>
				<mm-list-item>Item Name Here, Etc.</mm-list-item>
				<mm-list-item>Item Name Here, Etc.</mm-list-item>
				<mm-list-item>Item Name Here, Etc.</mm-list-item>
				<mm-list-item>Item Name Here, Etc.</mm-list-item>
				<mm-list-item>Item Name Here, Etc.</mm-list-item>
				<mm-list-item>Item Name Here, Etc.</mm-list-item>
				<mm-list-item>Item Name Here, Etc.</mm-list-item>
				<mm-list-item>Item Name Here, Etc.</mm-list-item>
			</x-test>
			-->
		</div>
		<div class="holder">
			<mm-button id="addBtn">
				<label>Add Item</label>
			</mm-button>
			<mm-button id="removeBtn">
				<label>Remove Item</label>
			</mm-button>
			<mm-button id="resetBtn">
				<label>Reset Scroll</label>
			</mm-button>
		</div>
		<script>
			var sp,
				addBtn,
				removeBtn,
				resetBtn,
				addedItems = [];

			window.addEventListener("WebComponentsReady", function() {
				sp 			= document.querySelector("#sp");
				addBtn 		= document.querySelector("#addBtn");
				removeBtn 	= document.querySelector("#removeBtn");
				resetBtn 	= document.querySelector("#resetBtn");

				addBtn.addEventListener("click", addItem);
				removeBtn.addEventListener("click", removeItem);
				resetBtn.addEventListener("click", reset);
			}); 

			function addItem(e) {
				var newItem = document.createElement("mm-list-item");

				newItem.textContent = "new item";
				Polymer.dom(sp).appendChild(newItem);
				addedItems.push(newItem);
			} 

			function removeItem(e) {
				var rmItem;

				if (addedItems.length) {
					var rmItem = addedItems[addedItems.length-1];

					Polymer.dom(sp).removeChild(rmItem);
					addedItems.splice(addedItems.length-1, 1);
					rmItem = null;
				}
			}

			function reset(e) {
				if (sp.resetScroll) {
					sp.resetScroll();
				} else {
					sp.$.isp.resetScroll();
				}
			}

			// test inside another component with light dom passed thru:
			// HTMLImports.whenReady(function() {
			// 	Polymer({
			// 		is: 'x-test'
			// 	});
			// });
		</script>
	</body>
</html>