<!--
 * @license
 * Copyright (c) 2015 MediaMath Inc. All rights reserved.
 * This code may only be used under the BSD style license found at http://mediamath.github.io/strand/LICENSE.txt
 --><html><head><meta charset="UTF-8"></head><body><div hidden by-vulcanize=""><link rel="import" href="../../bower_components/polymer/polymer.html"><script>(function(a){var b={properties:{ref:{type:Object,notify:!0,readOnly:!0,value:function(){return this}}},findById:function(c){return this.$[c]||this.$$('#'+c)}};a.Refable=b})(window.StrandTraits=window.StrandTraits||{});</script><script>(function(a){function b(r,s){return Object.prototype.toString.call(r).toLowerCase()==="[object "+s.toLowerCase()+"]"}function c(r){return void 0!==r&&null!==r}function d(r){if(r)return Array.prototype.slice.call(r)}function f(r,s){return!s||-1===s.indexOf(r.name)}function g(r,s,u){var v={},w=d(r.attributes);return w&&(w.forEach(function(x){if(f(x,s))try{v[x.name]=JSON.parse(x.value)}catch(y){v[x.name]=""===x.value||x.value}}),r.innerHTML&&u&&(v.inner=r.innerHTML.trim())),v}function h(r,s){if(0===r.length)return{};var u,w,v=s||{};for(u=r.length-1;0<=u;u--)w=r[u],v[w.name]=w.value;return v}function k(r){var s=[];for(var u in r)s.push({name:u,value:r[u]});return s}function l(r){return r.value||r.inner}function m(r,s,u){return u=u||{},Object.keys(r).forEach(function(v){-1!==s.indexOf(v)&&(u[v]=r[v]),b(r[v],"object")&&m(r[v],s,u)}),u}function q(r){var s={};return Object.keys(r).forEach(function(u){s[u]=r[u]}),s}a.DataUtils={clone:d,copy:function(){var s=d(arguments),u=1<s.length?s.shift():{};return s.reduce(function(v,w){if(b(w,"object"))for(var x in w)v[x]=w[x];return v},u)},isType:b,objectifyAttributes:g,isDef:c,param:function(r,s){return{name:r,value:s}},packParams:h,unpackParams:k,// uniqueMergeParams: function() {
// 	return _uniqueMerge.apply(this, arguments);
// },
uniqueMergeParams:function(){var s={},u=d(arguments);return u.forEach(function(v){0<v.length&&h(v,s)}),k(s)},objectifyDistributedNodes:function(r){return r=d(r).filter(function(u){return u.nodeType===Node.ELEMENT_NODE}),r.reduce(function s(u,v){var w=v.nodeName.toLowerCase();return void 0===u[w]&&(u[w]=[]),0<v.children.length?u[w]=d(v.children).reduce(s,{}):u[w].push(g(v,null,!0)),u},{})},nodeInnerValue:l,nodeToParam:function(s){return{name:s.name,value:l(s)}},nodeCheckIf:function(s,u){if(s.conditional){c(s.if)&&JSON.parse(s.if);var v=c(s.if)&&JSON.parse(s.if);return v?u(s):null}return u(s)},mergeParamLists:function(){var r,s,u,v={},w=[],x=[],y=d(arguments);for(r=y.length-1;0<=r;r--)if(x=y[r],x&&x.length)for(s=x.length-1;0<=s;s--)u=x[s],u&&!v[u.name||u]&&(w.push(u),v[u.name||u]=!0);return w.reverse()},getPathValue:function(s,u){if(!u)return null;var v=s;return"string"==typeof s&&(v=s.split(".")),v.reduce(function(w,x){return w&&"object"==typeof w&&x in w?w[x]:null},u)},setPathValue:function(s,u,v,w){if(u){var x=s;"string"==typeof s&&(x=s.split("."));var y=x.slice(-1)[0];x.reduce(function(z,A){return A===y?z[A]=v:w&&!z[A]&&(z[A]={}),z[A]},u)}},pluck:function(s,u){return b(s,"Array")?s.map(function(v){return m(v,u)}):m(s,u)},cloneObj:q,mergeObj:function(s,u){var v=q(s);return Object.keys(u).forEach(function(w){v[w]=u[w]}),v},indexByProp:function(s,u){var v={};for(var w=s.length-1;0<=w;w--){var x=s[w][u];v[x]=s[w]}return v},indexAllByProp:function(s,u){var v={};for(var w=s.length-1;0<=w;w--){var x=s[w][u];v[x]||(v[x]=[]),v[x].push(s[w])}return v}}})(window.StrandLib=window.StrandLib||{});</script><script>(function(a){var b=StrandLib.DataUtils;a.BehaviorUtils={extend:function(c){return Array.prototype.slice.call(arguments,1).forEach(function(d){var e,f;if(d)for(f in d)e=Object.getOwnPropertyDescriptor(d,f),Object.defineProperty(c,f,e)}),c},callProtochain:function(c,d,e){var f=d.behaviors;for(var g=0;g<f.length;g++)f[g][c]&&f[g][c].apply(d,e)},findSuper:function(c,d){if(b.isType(c,"array"))return c.reduce(function(e,f){if(b.isType(f,"array"))return a.BehaviorUtils.findSuper(f,d);var g=f[d];return g&&g instanceof Function?g:e},Function());return c&&c[d]?c[d]:void console.warn("This doesnt look like a behavior array")}}})(window.StrandLib=window.StrandLib||{});</script><script>!function(aa,ba){"object"==typeof exports&&"undefined"!=typeof module?module.exports=ba():"function"==typeof define&&define.amd?define(ba):aa.ES6Promise=ba()}(this,function(){"use strict";function aa($a){return"function"==typeof $a||"object"==typeof $a&&null!==$a}function ba($a){return"function"==typeof $a}function ca(){return"undefined"==typeof Ja?da():function(){Ja(ea)}}function da(){var $a=setTimeout;return function(){return $a(ea,1)}}function ea(){for(var $a=0;$a<Ia;$a+=2){var _a=Ra[$a],ab=Ra[$a+1];_a(ab),Ra[$a]=void 0,Ra[$a+1]=void 0}Ia=0}function fa($a,_a){var ab=arguments,bb=this,cb=new this.constructor(ha);void 0===cb[Ta]&&Aa(cb);var db=bb._state;return db?!function(){var eb=ab[db-1];La(function(){return xa(db,cb,eb,bb._result)})}():ta(bb,cb,$a,_a),cb}function ga($a){var _a=this;if($a&&"object"==typeof $a&&$a.constructor===_a)return $a;var ab=new _a(ha);return pa(ab,$a),ab}function ha(){}function ia(){return new TypeError("You cannot resolve a promise with itself")}function ja(){return new TypeError("A promises callback cannot return that same promise.")}function ka($a){try{return $a.then}catch(_a){return Xa.error=_a,Xa}}function la($a,_a,ab,bb){try{$a.call(_a,ab,bb)}catch(cb){return cb}}function ma($a,_a,ab){La(function(bb){var cb=!1,db=la(ab,_a,function(eb){cb||(cb=!0,_a===eb?ra(bb,eb):pa(bb,eb))},function(eb){cb||(cb=!0,sa(bb,eb))},"Settle: "+(bb._label||" unknown promise"));!cb&&db&&(cb=!0,sa(bb,db))},$a)}function na($a,_a){_a._state===Va?ra($a,_a._result):_a._state===Wa?sa($a,_a._result):ta(_a,void 0,function(ab){return pa($a,ab)},function(ab){return sa($a,ab)})}function oa($a,_a,ab){_a.constructor===$a.constructor&&ab===fa&&_a.constructor.resolve===ga?na($a,_a):ab===Xa?sa($a,Xa.error):void 0===ab?ra($a,_a):ba(ab)?ma($a,_a,ab):ra($a,_a)}function pa($a,_a){$a===_a?sa($a,ia()):aa(_a)?oa($a,_a,ka(_a)):ra($a,_a)}function qa($a){$a._onerror&&$a._onerror($a._result),ua($a)}function ra($a,_a){$a._state===Ua&&($a._result=_a,$a._state=Va,0!==$a._subscribers.length&&La(ua,$a))}function sa($a,_a){$a._state===Ua&&($a._state=Wa,$a._result=_a,La(qa,$a))}function ta($a,_a,ab,bb){var cb=$a._subscribers,db=cb.length;$a._onerror=null,cb[db]=_a,cb[db+Va]=ab,cb[db+Wa]=bb,0===db&&$a._state&&La(ua,$a)}function ua($a){var _a=$a._subscribers,ab=$a._state;if(0!==_a.length){for(var bb=void 0,cb=void 0,db=$a._result,eb=0;eb<_a.length;eb+=3)bb=_a[eb],cb=_a[eb+ab],bb?xa(ab,bb,cb,db):cb(db);$a._subscribers.length=0}}function va(){this.error=null}function wa($a,_a){try{return $a(_a)}catch(ab){return Ya.error=ab,Ya}}function xa($a,_a,ab,bb){var cb=ba(ab),db,eb,fb,gb;if(!cb)db=bb,fb=!0;else if(db=wa(ab,bb),db===Ya?(gb=!0,eb=db.error,db=null):fb=!0,_a===db)return void sa(_a,ja());_a._state!==Ua||(cb&&fb?pa(_a,db):gb?sa(_a,eb):$a===Va?ra(_a,db):$a===Wa&&sa(_a,db))}function ya($a,_a){try{_a(function(ab){pa($a,ab)},function(ab){sa($a,ab)})}catch(ab){sa($a,ab)}}function za(){return Za++}function Aa($a){$a[Ta]=Za++,$a._state=void 0,$a._result=void 0,$a._subscribers=[]}function Ba($a,_a){this._instanceConstructor=$a,this.promise=new $a(ha),this.promise[Ta]||Aa(this.promise),Ha(_a)?(this._input=_a,this.length=_a.length,this._remaining=_a.length,this._result=Array(this.length),0===this.length?ra(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&ra(this.promise,this._result))):sa(this.promise,Ca())}function Ca(){return new Error("Array Methods must be provided an Array")}function Da(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function Ea(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function Fa($a){this[Ta]=za(),this._result=this._state=void 0,this._subscribers=[],ha!==$a&&("function"!=typeof $a&&Da(),this instanceof Fa?ya(this,$a):Ea())}var Ga;Ga=Array.isArray?Array.isArray:function($a){return"[object Array]"===Object.prototype.toString.call($a)};var Ha=Ga,Ia=0,Ja=void 0,Ka=void 0,La=function($a,_a){Ra[Ia]=$a,Ra[Ia+1]=_a,Ia+=2,2==Ia&&(Ka?Ka(ea):Sa())},Ma="undefined"==typeof window?void 0:window,Na=Ma||{},Oa=Na.MutationObserver||Na.WebKitMutationObserver,Pa="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),Qa="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,Ra=Array(1e3),Sa;Sa=Pa?function(){return function(){return process.nextTick(ea)}}():Oa?function(){var _a=0,ab=new Oa(ea),bb=document.createTextNode("");return ab.observe(bb,{characterData:!0}),function(){bb.data=_a=++_a%2}}():Qa?function(){var _a=new MessageChannel;return _a.port1.onmessage=ea,function(){return _a.port2.postMessage(0)}}():void 0===Ma&&"function"==typeof require?function(){try{var _a=require,ab=_a("vertx");return Ja=ab.runOnLoop||ab.runOnContext,ca()}catch(bb){return da()}}():da();var Ta=Math.random().toString(36).substring(16),Ua,Va=1,Wa=2,Xa=new va,Ya=new va,Za=0;return Ba.prototype._enumerate=function(){for(var $a=this.length,_a=this._input,ab=0;this._state===Ua&&ab<$a;ab++)this._eachEntry(_a[ab],ab)},Ba.prototype._eachEntry=function($a,_a){var ab=this._instanceConstructor,bb=ab.resolve;if(bb===ga){var cb=ka($a);if(cb===fa&&$a._state!==Ua)this._settledAt($a._state,_a,$a._result);else if("function"!=typeof cb)this._remaining--,this._result[_a]=$a;else if(ab===Fa){var db=new ab(ha);oa(db,$a,cb),this._willSettleAt(db,_a)}else this._willSettleAt(new ab(function(eb){return eb($a)}),_a)}else this._willSettleAt(bb($a),_a)},Ba.prototype._settledAt=function($a,_a,ab){var bb=this.promise;bb._state===Ua&&(this._remaining--,$a===Wa?sa(bb,ab):this._result[_a]=ab),0===this._remaining&&ra(bb,this._result)},Ba.prototype._willSettleAt=function($a,_a){var ab=this;ta($a,void 0,function(bb){return ab._settledAt(Va,_a,bb)},function(bb){return ab._settledAt(Wa,_a,bb)})},Fa.all=function(_a){return new Ba(this,_a).promise},Fa.race=function(_a){var ab=this;return new ab(Ha(_a)?function(bb,cb){for(var db=_a.length,eb=0;eb<db;eb++)ab.resolve(_a[eb]).then(bb,cb)}:function(bb,cb){return cb(new TypeError("You must pass an array to race."))})},Fa.resolve=ga,Fa.reject=function(_a){var ab=this,bb=new ab(ha);return sa(bb,_a),bb},Fa._setScheduler=function(_a){Ka=_a},Fa._setAsap=function(_a){La=_a},Fa._asap=La,Fa.prototype={constructor:Fa,then:fa,"catch":function($a){return this.then(null,$a)}},Fa.polyfill=function(){var _a;if("undefined"!=typeof global)_a=global;else if("undefined"!=typeof self)_a=self;else try{_a=Function("return this")()}catch(cb){throw new Error("polyfill failed because global object is unavailable in this environment")}var ab=_a.Promise;if(ab){var bb=null;try{bb=Object.prototype.toString.call(ab.resolve())}catch(cb){}if("[object Promise]"===bb&&!ab.cast)return}_a.Promise=Fa},Fa.Promise=Fa,Fa});</script><script>/**
 * @author mrdoob / http://mrdoob.com/
 */var EventDispatcher=function(){};EventDispatcher.prototype={constructor:EventDispatcher,apply:function(a){a.addEventListener=EventDispatcher.prototype.addEventListener,a.hasEventListener=EventDispatcher.prototype.hasEventListener,a.removeEventListener=EventDispatcher.prototype.removeEventListener,a.dispatchEvent=EventDispatcher.prototype.dispatchEvent},addEventListener:function(a,b){this._listeners===void 0&&(this._listeners={});var c=this._listeners;c[a]===void 0&&(c[a]=[]),-1===c[a].indexOf(b)&&c[a].push(b)},hasEventListener:function(a,b){if(this._listeners===void 0)return!1;var c=this._listeners;return void 0!==c[a]&&-1!==c[a].indexOf(b)},removeEventListener:function(a,b){if(void 0!==this._listeners){var c=this._listeners,d=c[a];if(void 0!==d){var e=d.indexOf(b);-1!==e&&d.splice(e,1)}}},dispatchEvent:function(a){if(void 0!==this._listeners){var b=this._listeners,c=b[a.type];if(void 0!==c){a.target=this;var d=[],e=c.length;for(var f=0;f<e;f++)d[f]=c[f];for(var f=0;f<e;f++)d[f].call(this,a)}}}};</script><script>(function(a){function b(d){d=d||{},this.url=d.url,this.method=d.method||b.GET,this.body=d.body,this.responseType=d.responseType,this.contentType=d.contentType,this.headers=d.headers,this.withCredentials=d.withCredentials,this.timeout=d.timeout,this.username=d.username,this.password=d.password,this.progress=d.progress,this.requestMarshaller=d.requestMarshaller,this.responseMarshaller=d.responseMarshaller,this.options=d,this.defer={},this.xhr=new XMLHttpRequest,this.promise=new Promise(function(f,g){this.defer.resolve=f,this.defer.reject=g}.bind(this))}var c=StrandLib.DataUtils;b.GET="GET",b.POST="POST",b.PUT="PUT",b.DELETE="DELETE",b.prototype={exec:function(){return this.method&&this.url?(this.xhr.open(this.method,this.url,!0,this.username,this.password),this.xhr.responseType=this.responseType||"",this.xhr.timeout=this.timeout||1e4,this.xhr.withCredentials=this.withCredentials,this.xhr.onreadystatechange=this.readyStateChange.bind(this),this.xhr.addEventListener("abort",this.handleAbort.bind(this)),this.xhr.addEventListener("progress",this.handleProgress.bind(this)),this.xhr.addEventListener("timeout",this.handleTimeout.bind(this)),this.contentType&&this.xhr.setRequestHeader("content-type",this.contentType),this.headers&&this.headers.forEach(function(d){this.xhr.setRequestHeader(d.name,d.value)}.bind(this)),this.fire("preflight",{instance:this}),this.xhr.send(this.body),this.promise):(this.defer.reject({error:"url and method are required!!",instance:this,response:null}),this.promise)},readyStateChange:function(){var d={};4===this.xhr.readyState&&(this.fire("result",{instance:this}),this.response=this.responseHandler[this.xhr.responseType||"json"].call(this),!this.xhr.status||200<=this.xhr.status&&300>this.xhr.status?(d={response:this.response,instance:this},this.promise&&(this.defer.resolve(d),this.fire("response",d))):(d={error:this.xhr.status,instance:this,response:this.response},this.promise&&(this.defer.reject(d),this.fire("error",d))))},handleAbort:function(){if(this.promise){var d={error:"aborted",instance:this,response:null};this.defer.reject(d),this.fire("preflight",d)}},handleProgress:function(d){var f=this._getProgressDetail(d);this.progress&&this.progress(f),this.fire("progress",f)},handleTimeout:function(){if(this.promise){var d={error:"timeout",instance:this,response:null};this.defer.reject(d)}},_getProgressDetail:function(d){var f=c.isDef(d.loaded)?d.loaded:d.position,g=c.isDef(d.total)?d.total:d.totalSize;return{percent:Math.round(100*(f/g)),current:f,total:g}},responseHandler:{xml:function(){return this.xhr.responseXML},text:function(){return this.xhr.responseText},json:function(){var d=this.xhr.responseText;try{return JSON.parse(d)}catch(g){var f={error:g.message,instance:this,response:d};return this.fire("error",f),this.defer.reject(f),d}},document:function(){return this.xhr.response},blob:function(){return this.xhr.response},arrayBuffer:function(){return this.xhr.response}},abort:function(){this.xhr&&(this.xhr.abort(),this.fire("abort",{instance:this}))},fire:function(d,f){this._eventPrefix&&(d=this._eventPrefix+d);var g=new CustomEvent(d,{detail:f});this.dispatchEvent(g)},get status(){return this.xhr&&this.xhr.status},get state(){return this.xhr&&this.xhr.readyState}},EventDispatcher.prototype.apply(b.prototype),a.Request=b})(window.StrandLib=window.StrandLib||{});</script><script>(function(a){function b(c,d,e){if(!c)throw new Error("request array is required");this.work=c.slice(),this.results=[],this.failures=[],this.flight=[],this.concurrency=d,this.processHook=e,this.defer={},this.promise=new Promise(function(f,g){this.defer.resolve=f,this.defer.reject=g}.bind(this))}b.prototype={next:function(c){c&&(this.results=this.results.concat(c));var d=this.work.splice(0,this.concurrency).map(function(f){return this.flight.push(f),this.processHook&&this.processHook(f),f.exec()},this);if(d&&0<d.length){var e=Promise.all(d);e.then(this.next.bind(this),this.fail.bind(this))}else this.defer.resolve(this.results)},fail:function(c){this.defer.reject(c),this.failures.push(c)},exec:function(){this.next()},abort:function(){this.work=[],this.flight.forEach(function(c){c.abort()}),this.defer.reject(new Error("Aborted"))}},a.RequestQueue=b})(window.StrandLib=window.StrandLib||{});</script><script>(function(a){function b(l,m){return encodeURIComponent(l)+"="+encodeURIComponent(m)}function c(l,m,n,o){o=o||b;var p,s=[];for(var t in m=m||"",n=n||0,l)p=l[t],name=0===n?t:"["+t+"]","object"==typeof p?s=s.concat(c(p,m+name,n+1)):s.push(o(m+name,p));return s}function d(l){this._eventPrefix="ajax-",this.recent={},this.requests=[],this.options=f.copy({},{contentType:"application/x-www-form-urlencoded",method:h.GET,withCredentials:!1,timeout:1e4},l)}var f=StrandLib.DataUtils,g=StrandLib.BehaviorUtils,h=StrandLib.Request,j=StrandLib.RequestQueue;d.GET=h.GET,d.POST=h.POST,d.PUT=h.PUT,d.DELETE=h.DELETE,d.prototype={queue:function(l,m,n){var o=this._requestFactory(l,m);return this._getQueue(n,!0).push(o),o.promise},execQueue:function(l){var m=this._getQueue(l),n=new j(m,this.options.concurrency,function(o){this.current=o}.bind(this));return n.exec(),m.running=n,n.promise},exec:function(l,m){var n=this._requestFactory(l,m);return this.requests.push(n),this.current=n,n.exec(),n.promise},_getQueue:function(l,m){if(l){if(this[l])return this[l];if(m)return this[l]=[],this[l]}else return this.requests},_requestFactory:function(l,m){var n=f.copy;m=n({},this.options,m);var o=this.serializeUrl(m.url,m.urlParams);return o=this.serializeQuery(o,m.query),l=this.setRequestData(m.method,m.contentType,l,m.body),new h(n(m,{url:o,body:l}))},abort:function(){this.current&&(this.current.abort(),this.fire("abort",{instance:this},{prefix:!0}))},abortQueue:function(l){_getQueue(l).running.abort(),this.fire("abort-queue",{instance:this},{prefix:!0})},addHeader:function(l,m){this.options.headers=this.options.headers||[],this.options.headers.push({name:l,value:m})},addParam:function(l,m){this.options.query=this.query||[],this.options.query.push({name:l,value:m})},addUrlParam:function(l){this.options.urlParams=this.urlParams||[],this.options.urlParams.push(l)},setRequestData:function(l,m,n,o){var p,s;if(n){if("string"==typeof n)return n;p=f.copy({},o,n)}else p=o;//ignores for GET requests
if(l.match(/(POST|PUT|DELETE)/i))if("application/json"===m)s=JSON.stringify(p);else if("multipart/form-data"!==m)s=this.__serialize(p).join("&");else if(p instanceof FormData)s=p;else{var t=new FormData;this.__serialize(p,t.append.bind(t)),s=t}return s},serializeUrl:function(l,m){return l=l||"",m&&0<m.length&&("/"!==l.slice(-1)&&(l+="/"),l+=m.join("/")),l},serializeQuery:function(l,m){if(m&&m.length){if(-1!==l.indexOf("?")){var n=l.slice(-1);"&"!==n&&"?"!==n&&(l+="&")}else l+="?";l+=this.__serialize(m).join("&")}return l},__serialize:function(l,m){m=m||b;var n,o,p=[];if("string"==typeof l)try{l=JSON.parse(l)}catch(s){this.fire("error",{error:s,instance:this},{prefix:!0})}if(f.isType(l,"array"))for(n=l.length-1;0<=n;n--)o=l[n],null!==o.name&&null!==o.value&&p.push(m(o.name,o.value));else p=c(l,null,null,m);return p},fire:function(l,m,n){if(this._eventPrefix&&f.getPathValue("prefix",n)&&(l=this._eventPrefix+l),this.is)Polymer.Base.fire.call(this,l,m,n);else{//JS Object
var o=new CustomEvent(l,{detail:m});this.dispatchEvent(o)}},get status(){return this.current&&this.current.xhr.status},get state(){return this.current&&this.current.state},get xhr(){return this.current&&this.current.xhr}};var k=g.extend({},d.prototype,{properties:{url:{type:String,notify:!0},response:{type:Object,notify:!0}},ready:function(){d.apply(this)}});d.getBehavior=function(){return k},EventDispatcher.prototype.apply(d.prototype),a.Ajax=d})(window.StrandLib=window.StrandLib||{});</script></div><dom-module id="strand-ajax"><template><style>:host{display:none}</style></template><script>(function(a){var b=StrandLib.BehaviorUtils,c=StrandLib.Ajax.getBehavior();a.Ajax=Polymer({is:"strand-ajax",GET:StrandLib.Ajax.GET,POST:StrandLib.Ajax.POST,PUT:StrandLib.Ajax.PUT,DELETE:StrandLib.Ajax.DELETE,behaviors:[c,StrandTraits.Refable],properties:{url:{type:String,value:"",observer:"_updateOpts"},query:{type:String,value:"",observer:"_updateOpts"},method:{type:String,value:"GET",observer:"_updateOpts"},responseType:{type:String,value:"",observer:"_updateOpts"},response:{type:Object,value:function(){return{}},notify:!0},contentType:{type:String,value:"application/x-www-form-urlencoded",observer:"_updateOpts"},auto:{type:Boolean,value:!1,observer:"_updateOpts"},body:{type:Object,value:null,observer:"_updateOpts"},withCredentials:{type:Boolean,value:!1,observer:"_updateOpts"},timeout:{type:Number,value:1e4,observer:"_updateOpts"},concurrency:{type:Number,value:4,observer:"_updateOpts"},progress:{type:Object,value:function(){return{percent:0,total:0,current:0}},notify:!0}},ready:function(){this.async(function(){this._validateAjax()&&this.exec()})},_updateOpts:function(){this.debounce("options",function(){this.options=StrandLib.DataUtils.copy(this.options,{contentType:this.contentType,responseType:this.responseType,method:this.method,url:this.url,body:this.body,query:this.query,withCredentials:this.withCredentials,timeout:this.timeout,concurrency:this.concurrency})}.bind(this))},_validateAjax:function(){if(!this.method||!this.auto)return!1;if(this.method===StrandLib.Ajax.GET){if(this.url)return!0;}else if(this.url&&this.body)return!0;return!1},exec:function(){var d=b.findSuper(c,"exec"),f=d.apply(this,arguments);return this.current.progress=this._handleProgress.bind(this),f.then(this._handleResponse.bind(this),this._handleError.bind(this)),f},abort:function(){var d=b.findSuper(c,"abort");d.apply(this,arguments),this.current&&this.current.promise.then(this._handleAbort.bind(this),this._handleAbort.bind(this))},_handleAbort:function(d){this.fire("data-abort",d)},_handleResponse:function(d){d.response&&this.set("response",d.response),this.fire("data-ready",d)},_handleError:function(d){d.response&&this.set("response",d.response),this.fire("data-error",d)},_handleProgress:function(d){this.progress=d,this.fire("data-progress",d)}})})(window.Strand=window.Strand||{});</script></dom-module></body></html>