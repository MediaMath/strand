<script>
/**
 * @license
 * Copyright (c) 2015 MediaMath Inc. All rights reserved.
 * This code may only be used under the BSD style license found at http://mediamath.github.io/strand/LICENSE.txt

*/
(function (scope) {

	scope.TemplateFindable = {

		properties: {
			_templateFound: {
				type: Object,
				computed: "_computeTemplate(templateFinder, templateFinder.template)",
			},
			templateFinder: {
				type: Object,
				notify: true,
			},
			templateFindable: {
				type: Object,
				value: function () {
					return this;
				},
				notify: true,
			},
			templatePriority: {
				type: Array,
				value: function () {
					return [
						"lightdom",
						"import",
						"bind",
					];
				},
				notify: true,
			},
			templateBind: {
				type: Object,
				value: null,
				notify: true,
			},
			templateMatch: {
				type: String,
				value: "template:not([is])", // use <template preserve-content></template> in certain cases
				notify: true,
			},
			templateSelector: {
				type: String,
				value: "",
				notify: true,
			},
			templateUri: {
				type: String,
				notify: true,
			},
			templateQuery: {
				type: String,
				value: "template:not([is])",
				notify: true,
			},
		},

		ready: function () {
			// necessary because the binds/properties on nested elements might not be setup/notified in the right order
			this.notifyPath("templateFindable.templatePriority", this.templatePriority);
			this.notifyPath("templateFindable.templateBind", this.templateBind);
			this.notifyPath("templateFindable.templateMatch", this.templateMatch);
			this.notifyPath("templateFindable.templateSelector", this.templateSelector);
			this.notifyPath("templateFindable.templateUri", this.templateUri);
			this.notifyPath("templateFindable.templateQuery", this.templateQuery);
		},

		_computeTemplate: function (finder, template) {
			return template;
		},

		_computeTemplateContents: function (finder, innerHTML) {
			return innerHTML;
		},

		hasTemplate: function () {
			return 0|!!this._templateFound;
		},

	};

})(window.StrandTraits = window.StrandTraits || {}); 
</script>
