language: node_js
sudo: required
dist: trusty
node_js: stable
addons:
  firefox: '46.0'
  apt:
    sources:
    - google-chrome
    - ubuntu-toolchain-r-test
    packages:
    - google-chrome-stable
    - g++-4.8
before_install:
- source /opt/jdk_switcher/jdk_switcher.sh
- jdk_switcher use oraclejdk8
before_script:
- gem install percy
- npm install -g bower web-component-tester
- npm install
- bower install
- gulp clean
- gulp build
script: xvfb-run wct
after_success:
- gulp docs
- percy snapshot build_docs/
env:
  global:
  - CXX=g++-4.8
  - secure: HK6EDgnf++FDo5UKWUa7AJ/74phiI5znP1uOVLuEK3S3HByljEomDfomzN6F6THsxEBLjoJPFdDGeypyOnBUmOnIsxqMuJ0Fzoef4grnRkIc34bWYRZLY62g+QwyXOZ/xRgky35SVotyyG3ZfXELA33VsYi4T5XC8kEERm4pUHzXtIMNNSrXmDw5K+YNMbpSxnj+9wdtquKQY0aLsOVeSwJNgWNIzedbg1Vd4xrnyNcjGwCgq2OJDddSKO/UP1oipMgLjWM+WEcYPcK1h3KsThVNWqgPThp3LzGzpbGB7jnSTaRHOt9RVg284zs1dcD9zSWGRSdeqG4Mpi4MrHIDo0kh2+DfEzyY9czpnQ7bwEYTU9eNHiIuiuL55Mr3XAdvhC3ScbWiBMS1mYgcHcP41j7cMC5d8ecYarVd8xlniPJDyxL3fAzqwSHsHcb0LRKbC4Il5uMjNelUYMyEsJnAAHlFUoJqThD8xWQdUOT5iM3gQttLo/a0qwJvvPdZ0KoAlPP6qVOSOg6u/UGP2tVwVi5JcQLZ0WFWA06yJKw2RHVjL2bN6fLvw/3C5Uu+tmtunVWZ6U6FLD35qXCHjf6xQ1e9hJqdUpk7k0p8xfPiTFpAj414vELxU19qJfzNWEJH1epndat4iucRn9QmlSIMW/BAVutPeLpP6/gvis8/N/I=
  - secure: uquozDv8CKAuUYCS7xGeFyvKf5SSKGjASDz5reoTgQs2lx39aIaOEKsmEmxjbojmuFs+8tfMiJUxNt6QcV+/BeGBcqM8e3ZqZ/Y0H1V9uyjCFTCjYzbXa6qjA+H0tizArQluuVZfbldbEFLNNPFbS4NwhYh3OoDPpd3phNRM003Lla0aNfJOdXu6sRYY35njneYdMWfE/9OK0c3i7PubMnqKGFE3+Iwfw0/sbMpAmoEcHhD6DtNd9/ADLglJK7o4oJrzZ367eOzVg6YUbu1t+6YHCRcKfzMbxndoLFlcquDSWTOPQ6MJ9Tor3J46caMymeCOf7wcSuVTEgKqc7R9eUgi9VpoODuOo56BGwZ9vg6os7/sk9oYJdZoSBaKT87m6aCZzKKb3/+iJ4wDH2H6N5LhA8sE4CNyWXgWr5xmcP911owj8t4hCefxqCJlQb+r+NqIZpUkmq6iqJ45ITBDP3WPzEbbm/CNQtgEs5a/AezEeSOsUeng0rIMBHD51f1RzAWxPo93Z3LuYFkgM/5qel1RCi1eIPVD83oXxh/1xsscaciBvpcOovuJN61UrrWHbAEsaWg3z6r9VH2mi0xQifIy1zZnDcQ5QkekpY9353UjNqPPTGDPqi+Dggll7EupSEB25OLlDJGAAnOpp7r67Rbr4SRwQNsyKp4hAe85oIw=
