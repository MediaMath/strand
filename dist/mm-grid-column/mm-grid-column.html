<!--
 * @license
 * Copyright (c) 2015 MediaMath Inc. All rights reserved.
 * This code may only be used under the BSD style license found at http://mediamath.github.io/strand/LICENSE.txt

--><html><head><link rel="import" href="../../../polymerLegacy/polymer.html"><link rel="import" href="../shared/fonts/fonts.html"><link rel="import" href="../shared/js/colors.html"><link rel="import" href="../mm-icon/mm-icon.html"></head><body><polymer-element name="mm-grid-column" assetpath=""><template><style type="text/css">:host{display:-webkit-box;display:-moz-box;display:box;display:-webkit-flex;display:-moz-flex;display:-ms-flexbox;display:flex;vertical-align:middle;position:relative;padding:6px 10px;cursor:default;box-sizing:border-box;background:#e0e0e0}:host(:hover):host([sort]){cursor:pointer;background-color:rgba(255,255,255,.2)}polyfill-next-selector{content:':host > ._mm_container'}._mm_container{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:-webkit-box;display:-moz-box;display:box;display:-webkit-flex;display:-moz-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-moz-box-align:center;box-align:center;-webkit-align-items:center;-moz-align-items:center;-ms-align-items:center;-o-align-items:center;align-items:center;-ms-flex-align:center;-webkit-box-pack:justify;-moz-box-pack:justify;box-pack:justify;-webkit-justify-content:space-between;-moz-justify-content:space-between;-ms-justify-content:space-between;-o-justify-content:space-between;justify-content:space-between;-ms-flex-pack:justify;font-family:Arimo,sans-serif;font-weight:700;font-size:11px;margin:auto 0;width:100%}._mm_container.right{-webkit-box-pack:end;-moz-box-pack:end;box-pack:end;-webkit-justify-content:end;-moz-justify-content:end;-ms-justify-content:end;-o-justify-content:end;justify-content:end;-ms-flex-pack:end}._mm_container .left-items{display:-webkit-box;display:-moz-box;display:box;display:-webkit-flex;display:-moz-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-moz-box-align:center;box-align:center;-webkit-align-items:center;-moz-align-items:center;-ms-align-items:center;-o-align-items:center;align-items:center;-ms-flex-align:center}#label{color:#333;text-transform:uppercase;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}#info,#sort{margin-left:5px;-webkit-flex-shrink:0;-moz-flex-shrink:0;flex-shrink:0;-ms-flex-negative:0}#sort.asc{-webkit-transform:scaleY(1);-moz-transform:scaleY(1);-ms-transform:scaleY(1);-o-transform:scaleY(1);transform:scaleY(1)}#sort.des{-webkit-transform:scaleY(-1);-moz-transform:scaleY(-1);-ms-transform:scaleY(-1);-o-transform:scaleY(-1);transform:scaleY(-1)}#grabber{padding:0 5px 0 6px;margin-right:-5px;position:absolute;right:0;top:0;bottom:0;cursor:col-resize;z-index:1}#grabber:after{content:"";background:#FFF;width:1px;border-right:solid 1px #c2c2c2;display:block;height:100%}#grabber:hover{background-color:rgba(0,0,0,.1)}</style><div class="_mm_container {{align}}"><div class="left-items"><div id="label"></div><template if="{{info}}"><mm-icon id="info" width="14" height="14" type="info" primarycolor="{{INFO_ICON_COLOR}}"></mm-icon></template></div><template if="{{sortOrder === SORT_ASCENDING || sortOrder === SORT_DESCENDING}}"><mm-icon id="sort" width="10" height="10" type="sort" class="{{sortOrder === SORT_ASCENDING ? 'asc' : 'des' }}" primarycolor="{{SORT_ICON_COLOR}}"></mm-icon></template></div><template if="{{resize}}"><div id="grabber" on-tap="{{preventClick}}" on-down="{{onTrackStart}}" on-track="{{onTrack}}" on-trackend="{{onTrackEnd}}"></div></template></template><script>Polymer("mm-grid-column",{ver:"<<version>>",SORT_ICON_COLOR:Colors.A2,INFO_ICON_COLOR:Colors.A4,publish:{field:null,label:null,sortField:null,sortOrder:null,sort:false,info:false,resize:false,align:"left",width:null,minWidth:75},SORT_DEFAULT:0,SORT_ASCENDING:1,SORT_DESCENDING:-1,SORT_EVENT:"column-sort",RESIZE_EVENT:"column-resize",RESIZE_START_EVENT:"column-resize-start",RESIZE_END_EVENT:"column-resize-end",created:function(){this.sortOrder=this.SORT_DEFAULT},ready:function(){this.sortField=this.sortField||this.field;this.label=this.label||this.innerText||this.textContent;this.$.label.innerHTML=this.label.split("\n").join("<br/>");this.$.label.setAttribute("title",this.label)},attached:function(){if(this.sort){PolymerGestures.addEventListener(this,"tap",this.onClicked)}},detached:function(){PolymerGestures.removeEventListener(this,"tap",this.onClicked)},toggleSort:function(){this.sortOrder=this.sortOrder===this.SORT_ASCENDING?this.SORT_DESCENDING:this.SORT_ASCENDING},widthChanged:function(oldVal,newVal){this.style.width=newVal},onClicked:function(){this.toggleSort();this.fire(this.SORT_EVENT,{field:this.sortField,val:this.sortOrder})},preventClick:function(e){e.stopImmediatePropagation()},onTrackStart:function(e){e.preventDefault();this.startWidth=this.offsetWidth;var offset=this.offsetLeft;this.fire(this.RESIZE_START_EVENT,{field:this.field,val:offset})},onTrack:function(e){e.preventDefault();var width=Math.max(this.minWidth,this.startWidth+e.dx);this.desiredWidth=width;this.fire(this.RESIZE_EVENT,{field:this.field,val:width})},onTrackEnd:function(e){e.preventDefault();e.preventTap();this.fire(this.RESIZE_END_EVENT,{field:this.field,val:this.desiredWidth-this.startWidth});this.width=this.desiredWidth+"px"}});</script></polymer-element></body></html>