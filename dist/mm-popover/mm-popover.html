<!--
 * @license
 * Copyright (c) 2015 MediaMath Inc. All rights reserved.
 * This code may only be used under the BSD style license found at http://mediamath.github.io/strand/LICENSE.txt

--><html><head><link rel="import" href="../../bower_components/polymerLegacy/polymer.html"><link rel="import" href="../shared/fonts/fonts.html"><link rel="import" href="../shared/js/colors.html"><link rel="import" href="../shared/js/measure.html"><link rel="import" href="../mm-close-panel/mm-close-panel.html"></head><body><polymer-element name="mm-popover" attributes="valign align target mode" constructor="MMPopover" assetpath=""><template><style type="text/css">.button{box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:-webkit-box;display:-moz-box;display:box;display:-webkit-flex;display:-moz-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-moz-box-align:center;box-align:center;-webkit-align-items:center;-moz-align-items:center;-ms-align-items:center;-o-align-items:center;align-items:center;-ms-flex-align:center;-webkit-box-pack:start;-moz-box-pack:start;box-pack:start;-webkit-justify-content:start;-moz-justify-content:start;-ms-justify-content:start;-o-justify-content:start;justify-content:start;-ms-flex-pack:start;border:1px solid;border-radius:4px 4px 4px 4px;padding:0 10px;cursor:pointer;margin:0;height:29px;width:auto}polyfill-next-selector{content:'.button label, .button'}.button ::content label,.button{font-family:Arimo,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-smoothing:antialiased;font-weight:700;font-size:13px!important;line-height:28px!important;text-transform:capitalize}polyfill-next-selector{content:'.button label'}::content label{pointer-events:none;white-space:nowrap}polyfill-next-selector{content:'.button mm-icon'}::content mm-icon{display:block;pointer-events:none}polyfill-next-selector{content:'.button mm-icon + label'}::content mm-icon+label{padding-left:7px}.button:focus{outline:0}.button.fit{width:100%}.button.primary{color:#003C71;border-color:#55ADF3;background:#96D4F8}.button.invalid,.button.primary.invalid,.button.secondary.invalid{border-color:#f85252}.button.primary:hover{color:#003C71;background-color:#77BDF5}.button.primary:active{background-image:-webkit-linear-gradient(#5ca1d7,#77BDF5);background-image:linear-gradient(#5ca1d7,#77BDF5);box-shadow:inset 0 5px 1px #5ca1d7}.button.secondary{color:#333;border-color:#CCC;background:#fff;background-image:-webkit-linear-gradient(#fff,#f2f4f8);background-image:linear-gradient(#fff,#f2f4f8)}.button.secondary:hover{color:#333;background-color:#E5E5E5;background-image:none}.button.secondary:active{background-image:-webkit-linear-gradient(#d5d5d5,#E5E5E5);background-image:linear-gradient(#d5d5d5,#E5E5E5);box-shadow:inset 0 5px 1px #d5d5d5}.button.opened.bottom{border-radius:4px 4px 0 0}.button.opened.top{border-radius:0 0 4px 4px}:host([layout=hgroup-left]) .button{border-radius:4px 0 0 4px}:host([layout=hgroup-left]) .button.opened.bottom{border-radius:4px 0 0 0}:host([layout=hgroup-left]) .button.opened.top{border-radius:0 0 0 4px}:host([layout=hgroup-center]){margin-left:-1px}:host([layout=hgroup-center]) .button,:host([layout=hgroup-center]) .button.opened.bottom,:host([layout=hgroup-center]) .button.opened.top{border-radius:0}:host([layout=hgroup-right]){margin-left:-1px}:host([layout=hgroup-right]) .button{border-radius:0 4px 4px 0}:host([layout=hgroup-right]) .button.opened.bottom{border-radius:0 4px 0 0}:host([layout=hgroup-right]) .button.opened.top{border-radius:0 0 4px 0}:host([layout=vgroup-top]) .button,:host([layout=vgroup-center]) .button,:host([layout=vgroup-left]) .button{-webkit-box-pack:center;-moz-box-pack:center;box-pack:center;-webkit-justify-content:center;-moz-justify-content:center;-ms-justify-content:center;-o-justify-content:center;justify-content:center;-ms-flex-pack:center}:host([layout=vgroup-top]) .button{border-radius:4px 4px 0 0}:host([layout=vgroup-center]){margin-top:-1px}:host([layout=vgroup-center]) .button{border-radius:0}:host([layout=vgroup-bottom]){margin-top:-1px}:host([layout=vgroup-bottom]) .button{border-radius:0 0 4px 4px}:host{position:relative;display:block;font-size:0;line-height:0}.body-content{margin:15px}polyfill-next-selector{content:'mm-checkbox'}::content mm-checkbox{display:block}polyfill-next-selector{content:'mm-checkbox:not(:last-child)'}::content mm-checkbox:not(:last-child){margin-bottom:10px}</style><mm-close-panel id="closePanel" valign="{{valign}}" align="{{align}}" targetfilter="{{closeFilter}}" scope="{{}}" target="{{target}}" state="{{state}}"><template if="{{mode=='default'}}"><div class="body-content {{mode}}"><content select=".body"></content></div></template><template if="{{mode=='multiselect'}}"><content select="mm-input"></content><div class="body-content {{mode}}"><content select=".body"></content></div></template><content select="mm-footer"></content></mm-close-panel></template><script>Polymer("mm-popover",{ver:"<<version>>",STATE_OPENED:"opened",STATE_CLOSED:"closed",MODE_DEFAULT:"default",MODE_MULTISELECT:"multiselect",publish:{target:{value:null,reflect:true},valign:{value:"bottom",reflect:true},align:{value:"center",reflect:true},state:"closed",mode:"default"},attached:function(){if(!this.target){this.target=this.parentNode}},open:function(e){this.state=this.STATE_OPENED},close:function(e){this.state=this.STATE_CLOSED},stateChanged:function(oldVal,newValue){if(oldVal===this.STATE_OPENED&&newValue===this.STATE_CLOSED){this.fire("closed")}else if(newValue===this.STATE_OPENED){this.fire("opened")}},targetChanged:function(oldValue,newValue){if(typeof newValue!=="object"){this.$.closePanel.target=document.querySelector(newValue)}else{this.$.closePanel.target=newValue}},modeChanged:function(oldVal,newVal){},toggle:function(e){this.$.closePanel.toggle()},closeFilter:function(instance,e){function contains(rect,x,y){return rect.left<x&&rect.right>x&&rect.top<y&&rect.bottom>y}var rect=Measure.getBoundingClientRect(this.$.closePanel),targetRect=Measure.getBoundingClientRect(this.$.closePanel.target);bounding=contains(rect,e.clientX,e.clientY)||contains(targetRect,e.clientX,e.clientY);if(bounding){e.stopImmediatePropagation()}else{instance.closeHandler()}}});</script></polymer-element></body></html>