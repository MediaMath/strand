<!--
 * @license
 * Copyright (c) 2015 MediaMath Inc. All rights reserved.
 * This code may only be used under the BSD style license found at http://mediamath.github.io/strand/LICENSE.txt
 --><html><head><meta charset="UTF-8"></head><body><div hidden by-vulcanize=""><link rel="import" href="../../bower_components/polymer/polymer.html"><script>(function(a){a.Resolvable={ready:function(){this.hasAttribute('unresolved')&&this.removeAttribute('unresolved')}}})(window.StrandTraits=window.StrandTraits||{});</script><script>(function(a){a.BitMask=function(){var c=[].slice.call(arguments);this.data=[];for(var d=0;d<c.length;d++)this[c[d]]=1<<d,this.data[1<<d]=c[d]}})(window.StrandLib=window.StrandLib||{});</script><script>(function(a){function b(c,d,e,f){this.x=c,this.y=d,this.width=e,this.height=f}b.fromElement=function(c){if(c&&c.getBoundingClientRect){var d=c.getBoundingClientRect();return new b(d.left,d.top,d.width,d.height)}return new b(0,0,0,0)},b.fixBits=function(c,d,e){d&=e;var f=c&b.SIDE.CENTER,g=c&b.SIDE.VCENTER;return f||g?d&&(c|=d^e,g&&(c&=~b.SIDE.VCENTER),f&&(c&=~b.SIDE.CENTER)):0!=(d&e)&&(d&e)!==e&&(c=c&~e|c^e),c},b.SIDE=new a.BitMask("TOP","BOTTOM","LEFT","RIGHT","CENTER","VCENTER"),b.prototype={get left(){return this.x},set left(c){this.x=c},get right(){return this.x+this.width},set right(c){this.x=c-this.width},get top(){return this.y},set top(c){this.y=c},get bottom(){return this.y+this.height},set bottom(c){this.y=c-this.height},get center(){return this.x+this.width/2},set center(c){this.x=c-this.width/2},get vcenter(){return this.y+this.height/2},set vcenter(c){this.y=c-this.height/2},clone:function(){return new b(this.x,this.y,this.width,this.height)},outside:function(c){var d=0,e=b.SIDE;return this.left<c.left&&(d|=e.LEFT),this.right>c.right&&(d|=e.RIGHT),this.top<c.top&&(d|=e.TOP),this.bottom>c.bottom&&(d|=e.BOTTOM),d},toCSS:function(c,d){return c&&c.style&&(d?(c.style.left=this.left+"px",c.style.top=this.top+"px"):(c.style.left=Math.round(this.left)+"px",c.style.top=Math.round(this.top)+"px")),this},positionRelative:function(c,d){var e=b.SIDE;return e.LEFT&d&&(this.right=c.left),e.RIGHT&d&&(this.left=c.right),e.TOP&d&&(this.bottom=c.top),e.BOTTOM&d&&(this.top=c.bottom),e.CENTER&d&&(this.center=c.center),e.VCENTER&d&&(this.vcenter=c.vcenter),this},subtract:function(c){this.x-=c.x,this.y-=c.y},flipV:function(){this.y=-this.y},flipH:function(){this.x=-this.x},alignRelative:function(c,d){var e=b.SIDE;return e.LEFT&d&&(this.left=c.left),e.RIGHT&d&&(this.right=c.right),e.TOP&d&&(this.bottom=c.bottom),e.BOTTOM&d&&(this.top=c.top),e.CENTER&d&&(this.center=c.center),e.VCENTER&d&&(this.vcenter=c.vcenter),this}},a.Rectangle=b})(window.StrandLib=window.StrandLib||{});</script><script>(function(a){function b(g){e.add(g)}function c(g){e.delete(g)}// There are cases where multiple panels can be opened simultaneously
// (a panel layout nested inside another panel for instance).
function d(g){document.body.style.pointerEvents,'opened'===g?1===e.size&&(f=document.body.style.pointerEvents,document.body.style.pointerEvents='none'):0===e.size&&(document.body.style.pointerEvents=f||'')}var e=new Set,f;a.NonScrollable={properties:{disableScroll:{type:Boolean,value:!0}},__oldInstancePointer:null,observers:['_handleState(state)'],detached:function(){this._enable()},_disable:function(){b(this),d('opened'),this.__oldInstancePointer=this.style.pointerEvents,this.style.pointerEvents='all',this._target&&this._target.style&&(this.__oldTargetPointer=this._target.style.pointerEvents,this._target.style.pointerEvents='all')},_enable:function(){c(this),d('closed'),this.style.pointerEvents=this.__oldInstancePointer||'',this._target&&this._target.style&&(this._target.style.pointerEvents=this.__oldTargetPointer||'')},_handleState:function(g){this.disableScroll&&('opened'===g?this._disable():this._enable())}}})(window.StrandTraits=window.StrandTraits||{});</script><script>(function(a){var b={properties:{state:{type:String,notify:!0,value:function(){return this.STATE_CLOSED}},isClosed:{type:Boolean,notify:!0,computed:"_checkClosed(state)"}},get STATE_CLOSED(){return"closed"},get STATE_OPENED(){return"opened"},open:function(c){this.state=this.STATE_OPENED,c||this.fire("open")},close:function(c){this.state=this.STATE_CLOSED,c||this.fire("close")},_toggle:function(){this.toggle()},toggle:function(c){this.state===this.STATE_OPENED?this.close(c):this.open(c)},_checkClosed:function(){return this.state===this.STATE_CLOSED}};a.Closable=[a.NonScrollable,b]})(window.StrandTraits=window.StrandTraits||{});</script><script>(function(a){var b={properties:{toggleTrigger:{type:Object,observer:'_triggerChanged'}},attached:function(){this._addListener(this.toggleTrigger)},detached:function(){this._removeListener(this.toggleTrigger)},_addListener:function(c){c&&'object'==typeof c&&this.listen(c,'tap','_toggle')},_removeListener:function(c){c&&'object'==typeof c&&this.unlisten(c,'tap','_toggle')},_triggerChanged:function(c,d){var e=this._scope||document;this._removeListener(d),'string'==typeof c&&this.async(function(){this.toggleTrigger=e===document?document.querySelector(c):Polymer.dom(e).querySelector(c)}),this._addListener(c)}};a.AutoTogglable=[a.Closable,b]})(window.StrandTraits=window.StrandTraits||{});</script><script>(function(a){function b(f,g,h){var i=e[h],j=g?g:f;if(i&&i.items.size<i.max)i.items.add(j),f._setDepth(i.topIndex),i.topIndex++;else throw new Error("Could not add item at "+i.max)}function c(f,g,h,i){var j=i?e[i]:e[h],k=g?g:f;j&&j.items.delete(k)}var d=1e4,e={modal:{base:1*d,max:2*d,items:new Set,topIndex:1*d},ui:{base:2*d,max:3*d,items:new Set,topIndex:2*d},tooltip:{base:3*d,max:4*d,items:new Set,topIndex:3*d}};a.Stackable={properties:{_stackHost:{type:Object,value:function(){return this}},_stackTarget:{type:Object,value:null,observer:"_stackTargetChanged"},depth:{readOnly:!0,notify:!0,type:Number,value:0,observer:"_updateDepth"},stackType:{type:String,value:"ui",observer:"_updateType"}},_initialized:!1,attached:function(){b(this._stackHost,this._stackTarget,this.stackType),this._initialized=!0},detached:function(){c(this._stackHost,this._stackTarget,this.stackType)},_stackTargetChanged:function(f){f&&this._updateStack()},_updateDepth:function(){this._stackTarget?this._stackTarget.style.setProperty("z-index",this.depth):this._stackHost.style.setProperty("z-index",this.depth)},_updateType:function(f,g){f&&this._updateStack(f,g)},moveToTop:function(){return this._updateStack(),this.depth},_updateStack:function(f,g){if(this._initialized){var h=f?f:this.stackType,i=g?g:null;c(this._stackHost,this._stackTarget,h,i),b(this._stackHost,this._stackTarget,h)}}}})(window.StrandTraits=window.StrandTraits||{});</script><script>(function(a){var b={properties:{ref:{type:Object,notify:!0,readOnly:!0,value:function(){return this}}},findById:function(c){return this.$[c]||this.$$('#'+c)}};a.Refable=b})(window.StrandTraits=window.StrandTraits||{});</script><script>(function(a){a.Measure={// returns the boundingClientRect of the text within an strand-list-tem
getTextBounds:function(b){var d=document.createRange();if(d&&b.childNodes[0])return d.selectNode(b.childNodes[0]),d.getBoundingClientRect()},//measures text off the dom, input is used for style reference
textWidth:function(b,d,e){if(!e){var f=getComputedStyle(b);e=f["font-size"]+" "+f["font-family"]}var g=document.createElement("canvas"),h=g.getContext("2d");return h.font=e,h.measureText(d).width},// returns the total of border left width + border right width
getBorderWidth:function(b){var d=getComputedStyle(b),e=parseInt(d.borderLeftWidth),f=parseInt(d.borderRightWidth);return e+f},// returns the total of border top width + border bottom width
getBorderHeight:function(b){var d=getComputedStyle(b),e=parseInt(d.borderTopWidth),f=parseInt(d.borderBottomWidth);return e+f},// return the total of padding left + padding right
getPaddingWidth:function(b){var d=getComputedStyle(b),e=parseInt(d.paddingLeft),f=parseInt(d.paddingRight);return e+f},//return the offset width
getOffsetWidth:function(b){return b.offsetWidth},//return the offset height
getOffsetHeight:function(b){return b.offsetHeight},//return the scroll height
getScrollHeight:function(b){return b.scrollHeight},getBoundingClientRect:function(b){return b.getBoundingClientRect()},getComputedStyle:function(b){return getComputedStyle(b)},getScrollbarWidth:function(){var b=document.createElement("div");b.style.visibility="hidden",b.style.width="100px",b.style.msOverflowStyle="scrollbar",document.body.appendChild(b);var d=b.offsetWidth;b.style.overflow="scroll";var e=document.createElement("div");e.style.width="100%",b.appendChild(e);var f=e.offsetWidth;return document.body.removeChild(b),d-f}}})(window.StrandLib=window.StrandLib||{});</script><script>(function(a){function b(r,s){return Object.prototype.toString.call(r).toLowerCase()==="[object "+s.toLowerCase()+"]"}function c(r){return void 0!==r&&null!==r}function d(r){if(r)return Array.prototype.slice.call(r)}function f(r,s){return!s||-1===s.indexOf(r.name)}function g(r,s,u){var v={},w=d(r.attributes);return w&&(w.forEach(function(x){if(f(x,s))try{v[x.name]=JSON.parse(x.value)}catch(y){v[x.name]=""===x.value||x.value}}),r.innerHTML&&u&&(v.inner=r.innerHTML.trim())),v}function h(r,s){if(0===r.length)return{};var u,w,v=s||{};for(u=r.length-1;0<=u;u--)w=r[u],v[w.name]=w.value;return v}function k(r){var s=[];for(var u in r)s.push({name:u,value:r[u]});return s}function l(r){return r.value||r.inner}function m(r,s,u){return u=u||{},Object.keys(r).forEach(function(v){-1!==s.indexOf(v)&&(u[v]=r[v]),b(r[v],"object")&&m(r[v],s,u)}),u}function q(r){var s={};return Object.keys(r).forEach(function(u){s[u]=r[u]}),s}a.DataUtils={clone:d,copy:function(){var s=d(arguments),u=1<s.length?s.shift():{};return s.reduce(function(v,w){if(b(w,"object"))for(var x in w)v[x]=w[x];return v},u)},isType:b,objectifyAttributes:g,isDef:c,param:function(r,s){return{name:r,value:s}},packParams:h,unpackParams:k,// uniqueMergeParams: function() {
// 	return _uniqueMerge.apply(this, arguments);
// },
uniqueMergeParams:function(){var s={},u=d(arguments);return u.forEach(function(v){0<v.length&&h(v,s)}),k(s)},objectifyDistributedNodes:function(r){return r=d(r).filter(function(u){return u.nodeType===Node.ELEMENT_NODE}),r.reduce(function s(u,v){var w=v.nodeName.toLowerCase();return void 0===u[w]&&(u[w]=[]),0<v.children.length?u[w]=d(v.children).reduce(s,{}):u[w].push(g(v,null,!0)),u},{})},nodeInnerValue:l,nodeToParam:function(s){return{name:s.name,value:l(s)}},nodeCheckIf:function(s,u){if(s.conditional){c(s.if)&&JSON.parse(s.if);var v=c(s.if)&&JSON.parse(s.if);return v?u(s):null}return u(s)},mergeParamLists:function(){var r,s,u,v={},w=[],x=[],y=d(arguments);for(r=y.length-1;0<=r;r--)if(x=y[r],x&&x.length)for(s=x.length-1;0<=s;s--)u=x[s],u&&!v[u.name||u]&&(w.push(u),v[u.name||u]=!0);return w.reverse()},getPathValue:function(s,u){if(!u)return null;var v=s;return"string"==typeof s&&(v=s.split(".")),v.reduce(function(w,x){return w&&"object"==typeof w&&x in w?w[x]:null},u)},setPathValue:function(s,u,v,w){if(u){var x=s;"string"==typeof s&&(x=s.split("."));var y=x.slice(-1)[0];x.reduce(function(z,A){return A===y?z[A]=v:w&&!z[A]&&(z[A]={}),z[A]},u)}},pluck:function(s,u){return b(s,"Array")?s.map(function(v){return m(v,u)}):m(s,u)},cloneObj:q,mergeObj:function(s,u){var v=q(s);return Object.keys(u).forEach(function(w){v[w]=u[w]}),v},indexByProp:function(s,u){var v={};for(var w=s.length-1;0<=w;w--){var x=s[w][u];v[x]=s[w]}return v},indexAllByProp:function(s,u){var v={};for(var w=s.length-1;0<=w;w--){var x=s[w][u];v[x]||(v[x]=[]),v[x].push(s[w])}return v}}})(window.StrandLib=window.StrandLib||{});</script><script>(function(a){var b=StrandLib.DataUtils;a.BehaviorUtils={extend:function(c){return Array.prototype.slice.call(arguments,1).forEach(function(d){var e,f;if(d)for(f in d)e=Object.getOwnPropertyDescriptor(d,f),Object.defineProperty(c,f,e)}),c},callProtochain:function(c,d,e){var f=d.behaviors;for(var g=0;g<f.length;g++)f[g][c]&&f[g][c].apply(d,e)},findSuper:function(c,d){if(b.isType(c,"array"))return c.reduce(function(e,f){if(b.isType(f,"array"))return a.BehaviorUtils.findSuper(f,d);var g=f[d];return g&&g instanceof Function?g:e},Function());return c&&c[d]?c[d]:void console.warn("This doesnt look like a behavior array")}}})(window.StrandLib=window.StrandLib||{});</script><script>(function(a){function b(g){f.add(g)}function c(g){f.delete(g)}function d(g){g.resize&&g.resize()}function e(g){g.scroll&&g.scroll()}var f=new Set;window.addEventListener("resize",function(){f.forEach(d)}),window.addEventListener("scroll",function(){f.forEach(e)},!0),a.WindowNotifier={attached:function(){b(this)},detached:function(){c(this)},resize:function(){//behavior stub
},scroll:function(){//behavior stub
}}})(window.StrandTraits=window.StrandTraits||{});</script><script>(function(a){function b(h){f.add(h)}function c(h){f.delete(h)}function d(h){var i=this,j=h._closeFilter,k="object"==typeof h.scope?h.scope:h;i[0]=h,j.apply(k,i)}var f=new Set;document.addEventListener("mouseup",function(h){var i=Polymer.dom(h);f.forEach(d,[null,i,h])});var g={properties:{auto:{type:Boolean,value:!0}},attached:function(){b(this)},detached:function(){c(this)},_closeFilter:function(h,i,j){h.auto&&(-1<i.path.indexOf(h)||-1<i.path.indexOf(h._target)?j.stopImmediatePropagation():h.close())}};a.AutoClosable=[a.Closable,g]})(window.StrandTraits=window.StrandTraits||{});</script><script type="text/javascript">(function(a){var b=StrandLib.Rectangle;Positionable={properties:{_scope:{type:Object,value:function(){return document}// assumes the scope will be the document if not specified
},_panel:{type:Object,value:function(){return this},observer:'_panelChanged'},_target:{type:Object,observer:'_targetChanged'},state:{type:String,value:'closed',observer:'_stateChanged'},panelOffset:{type:Number,value:0},boundaryOffset:{type:Number,value:10,observer:'_boundaryOffsetChanged'}},_isAttached:!1,ready:function(){this.async(function(){this.toggleTrigger||(this.toggleTrigger=this._target)})},attached:function(){this._isAttached=!0,this._updateTarget(this._target)},detached:function(){this._isAttached=!1},resize:function(){'opened'===this.state&&this.update()},scroll:function(){'opened'===this.state&&this.update()},update:function(){this._target&&this._updatePosition()},_updatePosition:function(){},get metrics(){return b.fromElement(this._panel)},get targetMetrics(){return this._target&&b.fromElement(this._target)},get windowMetrics(){var c=document.documentElement;return new b(0,0,c.clientWidth,c.clientHeight)},_panelChanged:function(){},_targetChanged:function(c){this._updateTarget(c)},_updateTarget:function(c){this._isAttached&&'string'==typeof c&&(this._target=this._scope===document?document.querySelector(c):Polymer.dom(this._scope).querySelector(c))},_stateChanged:function(c){this.async(function(){c===this.STATE_OPENED?(this.update(),this._panel.style.clip='auto'):this._panel.style.clip='rect(0,0,0,0)'})},_boundaryOffsetChanged:function(c){this.async(function(){this._panel.style.padding=c+'px'})}},a.Positionable=[StrandTraits.WindowNotifier,StrandTraits.AutoClosable,Positionable]})(window.StrandTraits=window.StrandTraits||{});</script><script type="text/javascript">(function(a){var b=StrandLib.Measure,c=StrandLib.Rectangle,d=StrandLib.BehaviorUtils,e={properties:{direction:{type:String,value:'s',observer:'_directionChanged'},_placement:{type:String,reflectToAttribute:!0},target:{type:Object,observer:'_positionableTargetChanged'},_containerOffset:{type:Number,value:0},_containerStyle:{type:String,computed:''},_tipSize:{type:Number,value:15}},_directionChanged:function(f){'c'!==f&&(this._placement=f)},_positionableTargetChanged:function(f){this._target=f},_updatePosition:function(){var f=this.windowMetrics,g=this.metrics,h=this.targetMetrics,i=0;this._placement=this.direction,this._updateDirection(this._placement,g,h),'n'===this._placement||'s'===this._placement?(i=this._getOffset(g.left,g.right,f.left,f.right,g.width,h.width),this._containerStyle='left: '+i+'px',h.top-(g.height+this.panelOffset)<f.top&&h.bottom+(g.height+this.panelOffset)>f.bottom?(this._placement='c',this._updateDirection(this._placement,g,h)):(g.top<f.top||g.bottom>f.bottom)&&(this._placement=this._flipDirection(this._placement),this._updateDirection(this._placement,g,h))):(i=this._getOffset(g.top,g.bottom,f.top,f.bottom,g.height,h.height),this._containerStyle='top: '+i+'px',h.left-(g.width+this.panelOffset)<f.left&&h.right+(g.width+this.panelOffset)>f.right?(this._placement='c',this._updateDirection(this._placement,g,h)):(g.left<f.left||g.right>f.right)&&(this._placement=this._flipDirection(this._placement),this._updateDirection(this._placement,g,h))),g.toCSS(this._panel)},_flipDirection:function(f){var g=this.DIRECTIONS.indexOf(f);return g=(g+2)%this.DIRECTIONS.length,this.DIRECTIONS[g]},_getOffset:function(f,g,h,i,j){var k=this._containerOffset,l=(j-2*this.boundaryOffset)/2-this._tipSize;return f+k<h?k=h-f:g+k>i&&(k=i-g),Math.min(Math.max(k,-l),l)},_updateDirection:function(f,g,h){var i=h.width/2-g.width/2,j=h.height/2-g.height/2;'n'===f?(g.top=h.top-g.height-this.panelOffset,g.left=h.left+i):'s'===f?(g.top=h.bottom+this.panelOffset,g.left=h.left+i):'e'===f?(g.top=h.top+j,g.left=h.right+this.panelOffset):'w'===f?(g.top=h.top+j,g.right=h.left-this.panelOffset):'c'===f?(g.top=h.top+j,g.left=h.left+i):void 0},DIRECTIONS:['n','e','s','w']};a.PositionablePanel=[a.Positionable,e]})(window.StrandTraits=window.StrandTraits||{});</script></div><dom-module id="strand-popover"><template><style>:host{position:fixed;display:block}.body-content{margin:15px}#container{box-sizing:border-box;position:relative;background:#FFF;border:1px solid #CCC;overflow:hidden;border-radius:4px;box-shadow:0 6px 12px 0 rgba(0,0,0,.18)}#container ::content .body strand-checkbox:last-child{margin-bottom:0}#container ::content .body strand-checkbox{display:block;margin:10px 0;text-align:left}:host([_placement="n"]){padding-bottom:10px!important}:host([_placement="n"]):after,:host([_placement="n"]):before{position:absolute;width:0;height:0;content:" ";left:50%;margin-left:-10px;border-right:10px solid transparent;border-left:10px solid transparent}:host([_placement="n"]):before{bottom:0;border-top:10px solid #CCC}:host([_placement="n"]):after{bottom:1px;border-top:10px solid #FFF}:host([_placement="n"][class=hasFooter]):after,:host([_placement="n"][class=hasFooter]):before{position:absolute;width:0;height:0;content:" ";left:50%;margin-left:-10px;border-right:10px solid transparent;border-left:10px solid transparent}:host([_placement="n"][class=hasFooter]):before{bottom:0;border-top:10px solid #CCC}:host([_placement="n"][class=hasFooter]):after{bottom:1px;border-top:10px solid #f1f3f7}:host([_placement="s"]){padding-top:10px!important}:host([_placement="s"]):after,:host([_placement="s"]):before{position:absolute;width:0;height:0;content:" ";left:50%;margin-left:-10px;border-left:10px solid transparent;border-right:10px solid transparent}:host([_placement="s"]):before{top:0;border-bottom:10px solid #CCC}:host([_placement="s"]):after{top:1px;border-bottom:10px solid #FFF}:host([_placement="e"]){padding-left:10px!important}:host([_placement="e"]):after,:host([_placement="e"]):before{position:absolute;width:0;height:0;content:" ";top:50%;margin-top:-10px;border-bottom:10px solid transparent;border-top:10px solid transparent}:host([_placement="e"]):before{left:0;border-right:10px solid #CCC}:host([_placement="e"]):after{left:1px;border-right:10px solid #FFF}:host([_placement="w"]){padding-right:10px!important}:host([_placement="w"]):after,:host([_placement="w"]):before{position:absolute;width:0;height:0;content:" ";top:50%;margin-top:-10px;border-top:10px solid transparent;border-bottom:10px solid transparent}:host([_placement="w"]):before{right:0;border-left:10px solid #CCC}:host([_placement="w"]):after{right:1px;border-left:10px solid #FFF}</style><div id="container" style$="{{_containerStyle}}"><content select="strand-input"></content><div class="body-content"><content select=".body"></content></div><content id="footer" select="strand-footer"></content></div></template></dom-module><script>(function(a){a.Popover=Polymer({is:'strand-popover',behaviors:[StrandTraits.Resolvable,StrandTraits.AutoTogglable,StrandTraits.Stackable,StrandTraits.PositionablePanel,StrandTraits.Refable],ready:function(){var b=0<Polymer.dom(this.$.footer).getDistributedNodes().length;b&&this.classList.add('hasFooter')}})})(window.Strand=window.Strand||{});</script></body></html>