<!--
 * @license
 * Copyright (c) 2015 MediaMath Inc. All rights reserved.
 * This code may only be used under the BSD style license found at http://mediamath.github.io/strand/LICENSE.txt

--><html><head><link rel="import" href="../../../polymerLegacy/polymer.html"><link rel="import" href="../mm-item-notifier/mm-item-notifier.html"></head><body><polymer-element name="mm-scroll-panel" attributes="scope" constructor="MMScrollPanel" assetpath=""><template><style type="text/css">:host{display:block;overflow:hidden;position:relative}#viewport{box-sizing:border-box;position:relative;overflow:hidden;height:100%}.scrollbar-y{display:none;position:absolute;top:0;right:0;width:16px;opacity:0;filter:alpha(opacity=0);transition:opacity .15s linear;cursor:default}.scrollbar-y .bar{height:100%;width:8px;margin:auto;background-color:#aaa;border-radius:4px}:host(:hover) .scrollbar-y{opacity:.6;filter:alpha(opacity=60)}.scrollbar-y:hover{opacity:.8;filter:alpha(opacity=80)}.scrollbar-y.scrolling{opacity:1;filter:alpha(opacity=100)}</style><mm-item-notifier target="{{scope}}" on-added="{{itemChanged}}" on-removed="{{itemChanged}}"></mm-item-notifier><div id="viewport" class="container"><content></content></div><div id="scrollbarY" class="scrollbar-y" on-down="{{onDown}}" on-track="{{onTrack}}" on-up="{{onUp}}"><div class="bar"></div></div></template><script>(function(){var onwheel,support="onwheel"in document.createElement("div")?"wheel":document.onmousewheel!==undefined?"mousewheel":"DOMMouseScroll";function addWheelListener(elem,callback,useCapture){_addWheelListener(elem,support,callback,useCapture);if(support==="DOMMouseScroll"){_addWheelListener(elem,"MozMousePixelScroll",callback,useCapture)}}function removeWheelListener(elem,callback,useCapture){_removeWheelListener(elem,support,callback,useCapture);if(support==="DOMMouseScroll"){_removeWheelListener(elem,"MozMousePixelScroll",callback,useCapture)}}function _addWheelListener(elem,eventName,callback,useCapture){elem.addEventListener(eventName,support==="wheel"?callback:function(originalEvent){!originalEvent&&(originalEvent=window.event);var event={originalEvent:originalEvent,target:originalEvent.target||originalEvent.srcElement,type:"wheel",deltaMode:originalEvent.type==="MozMousePixelScroll"?0:1,deltaX:0,deltaZ:0,preventDefault:function(){if(originalEvent.preventDefault){originalEvent.preventDefault()}else{originalEvent.returnValue=false}}};if(support==="mousewheel"){event.deltaY=-1/40*originalEvent.wheelDelta;originalEvent.wheelDeltaX&&(event.deltaX=-1/40*originalEvent.wheelDeltaX)}else{event.deltaY=originalEvent.detail}return callback(event)},useCapture||false)}function _removeWheelListener(elem,eventName,callback,useCapture){elem.removeEventListener(eventName,callback,useCapture||false)}Polymer("mm-scroll-panel",{ver:"<<version>>",publish:{scrolling:false,scope:null},MIN_BAR_SIZE:50,attached:function(){addWheelListener(this,this.onScroll.bind(this))},detached:function(){removeWheelListener(this,this.onScroll.bind(this))},ready:function(){if(!this.scope){this.scope=this}},domReady:function(){this.async(this.initialize)},itemChanged:function(e){this.async(this.initialize)},initialize:function(){var barSize=this.viewportHeight*this.viewportHeight/this.contentHeight|0;this.scrollBarSize=barSize<this.MIN_BAR_SIZE?this.MIN_BAR_SIZE:barSize;this.scrollRange=this.viewportHeight-this.scrollBarSize;this.contentRange=this.contentHeight-this.viewportHeight;if(this.contentHeight>this.viewportHeight){this.$.scrollbarY.style.height=this.scrollBarSize+"px";this.$.scrollbarY.style.display="block"}else{this.$.scrollbarY.style.display="none"}this.initContentHeight=this.contentHeight;this.updateScrollbar(this.$.viewport.scrollTop)},onScroll:function(e){e.preventDefault();this.$.viewport.scrollTop+=e.deltaY;this.updateScrollbar(this.$.viewport.scrollTop)},onDown:function(e){e.preventDefault();this.$.scrollbarY.classList.add("scrolling");this.currentY=this.$.scrollbarY.offsetTop},onTrack:function(e){e.preventDefault();this.updateViewport(e.dy);this.updateScrollbar(this.$.viewport.scrollTop)},onUp:function(e){e.preventDefault();this.$.scrollbarY.classList.remove("scrolling")},updateScrollbar:function(scrollTop){var scrollY=scrollTop*this.scrollRange/this.contentRange|0;this.$.scrollbarY.style.top=scrollY+"px"},updateViewport:function(deltaY){var newPos=this.currentY+deltaY;this.$.viewport.scrollTop=newPos*this.contentRange/this.scrollRange|0},resetScroll:function(){this.$.viewport.scrollTop=0;this.updateScrollbar(this.$.viewport.scrollTop)},get contentHeight(){return this.$.viewport.scrollHeight},get viewportHeight(){return this.$.viewport.offsetHeight}})})();</script></polymer-element></body></html>