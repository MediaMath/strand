<!--
 * @license
 * Copyright (c) 2015 MediaMath Inc. All rights reserved.
 * This code may only be used under the BSD style license found at http://mediamath.github.io/strand/LICENSE.txt
 --><html><head><meta charset="UTF-8"></head><body><div hidden by-vulcanize=""><link rel="import" href="../../bower_components/polymer/polymer.html"><link rel="import" href="../strand-checkbox/strand-checkbox.html"><link rel="import" href="../strand-icon/strand-icon.html"><link rel="import" href="../strand-spinner/strand-spinner.html"><script>!function(t){var n={properties:{ref:{type:Object,notify:!0,readOnly:!0,value:function(){return this}}},findById:function(t){return this.$[t]||this.$$("#"+t)}};t.Refable=n}(window.StrandTraits=window.StrandTraits||{});</script></div><dom-module id="strand-grid-item"><template><style>.header-large,.header-medium,h1,h2{font-family:Arimo,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.header-large,.header-medium,.header-small,h1,h2,h3{font-style:normal;color:#333}.header-large,h1{font-smoothing:antialiased;font-size:20px!important;line-height:25px!important;font-weight:700}.header-medium,h2{font-smoothing:antialiased;font-size:15px!important;line-height:20px!important;font-weight:700}.header-normal,.header-small,h3,h4{font-family:Arimo,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:700}.header-small,h3{font-smoothing:antialiased;font-size:13px!important;line-height:18px!important}.header-normal,h4{font-smoothing:antialiased;font-size:11px!important;line-height:14px!important;font-style:normal;color:#2E6C9E;text-transform:uppercase}.body-normal,.header-tiny,h5{-webkit-font-smoothing:antialiased;font-family:Arimo,sans-serif;-moz-osx-font-smoothing:grayscale;font-style:normal}.header-tiny,h5{font-smoothing:antialiased;font-size:9px!important;line-height:12px!important;font-weight:700;color:#4C4C4C;text-transform:uppercase}.body-normal{font-smoothing:antialiased;font-size:13px!important;line-height:18px!important;font-weight:400;color:#333}:host ._mm_column{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;padding:0 10px;vertical-align:middle;box-sizing:border-box;float:left;min-height:1px}:host ._mm_column.right{text-align:right}:host ._mm_column.checkbox,:host ._mm_column.toggle{box-sizing:content-box;margin:auto 0;padding:0 5px}:host ._mm_column.checkbox:first-of-type,:host ._mm_column.toggle:first-of-type{padding-left:15px}:host ._mm_column.checkbox{width:18px}:host ._mm_column.toggle{width:10px}:host ._mm_column.toggle strand-icon{cursor:pointer;transform:translateY(-1px) rotate(-90deg)}:host ._mm_column.toggle.expanded strand-icon{transform:translateY(-1px) rotate(0)}:host{display:block;position:relative;overflow:hidden;background:#fff;font-family:Arimo,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-smoothing:antialiased;font-size:12px!important;line-height:normal!important;font-weight:400;font-style:normal;border-bottom:1px solid #E5E5E5}polyfill-next-selector{content:':host ._mm_item'}._mm_item{padding:10px 0}#columnContainer{position:relative;overflow:hidden}.columnContentWrapper{width:0;min-width:100%;position:relative}.columnContent:not([hidden]){display:block;width:100%;overflow:hidden;text-overflow:ellipsis}#loader{position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.fake-content{display:block;background:#F0F0F0}.right .fake-content{float:right}:host([inactive]){opacity:.5}::content [field]{overflow:inherit;text-overflow:inherit;white-space:inherit}::content .expansion{background:#f5f5f5;color:#4C4C4C;box-shadow:inset 0 2px 2px #e9e9e9,inset 0 -2px 2px #e9e9e9;overflow:hidden}::content .expansion-row{border-bottom:1px solid #E5E5E5;padding:10px 10px 10px 40px;display:-ms-flexbox;display:flex}::content .expansion-col{margin-right:20px;-ms-flex-positive:1;flex-grow:1}</style><div class="_mm_item"><div class="_mm_column checkbox" hidden$="{{!scope.selectable}}"><strand-checkbox on-tap="_onItemSelected" checked="{{model.selected}}" icon="{{scope.icon}}"></strand-checkbox></div><div id="carat" class="_mm_column toggle" hidden$="{{!scope.expandable}}"><strand-icon width="10" height="10" type="carat" on-tap="_onItemExpanded"></strand-icon></div><div id="columnContainer"><template is="dom-repeat" items="{{scope._columns}}" as="column" on-dom-change="_checkDistributedNodesAsync"><div class$="{{_computeColumnClass(column.node.alignColumn)}}" style$="{{_computeColumnStyle(column.node.width)}}" id="{{column.node.field}}"><div class="columnContentWrapper"><template is="dom-if" if="{{model}}" on-dom-change="_checkDistributedNodesAsync"><span class="columnContent"><content id="{{column.node.field}}" select$="{{_columnContentSelector(column.node.field)}}"></content></span> <span class="columnContent" hidden$="{{_isOverridden(column.node.field, _overridden.*)}}">[[_computeColumnValue(column.node.field, model, model.*)]]</span></template><template is="dom-if" if="{{!model}}" restamp=""><span class="columnContent fake-content" style$="width:[[_setRandomWidth(column.node.field)]];">&nbsp;</span></template></div></div></template></div></div><template is="dom-if" if="{{model.expanded}}" restamp="true"><content id="expansion" select=".expansion"></content></template></template></dom-module><script>!function(e){e.GridItem=Polymer({is:"strand-grid-item",behaviors:[StrandTraits.Refable],properties:{model:{type:Object,value:null},scope:Object,index:{type:Number},_overridden:{type:Object,value:function(){return{}}},inactive:{type:Boolean,value:!1,reflectToAttribute:!0}},observers:["_expansionChanged(model.expanded)","_redistributeColumns(scope._columns)"],_expansionChanged:function(e){this.toggleClass("expanded",!!e,this.$.carat)},_redistributeColumns:function(e){this.distributeContent()},_checkDistributedNodesAsync:function(e){this.debounce("checkDistributedNodes",this._checkDistributedNodes)},_checkDistributedNodes:function(){var e=Polymer.dom(this.$.columnContainer).querySelectorAll("content"),t=e.length,n=0,i=null;for(n=0;n<t;n++)i=e[n],Polymer.dom(i).getDistributedNodes().length&&this.set("_overridden."+i.id,1)},_isOverridden:function(e){return this._overridden[e]},_columnContentSelector:function(e){return"[field='"+e+"']"},_computeColumnValue:function(e,t,n){return t?t[e]:""},_computeColumnClass:function(e){return"_mm_column "+(e||"")},_computeColumnStyle:function(e){return"width: "+e},_setRandomWidth:function(e){var t=.5,n=Math.random()*(1-t)+t;return String(Math.round(100*n)+"%")},_onItemSelected:function(e,t,n){e.stopImmediatePropagation(),this.fire("item-selected",this.model)},_onItemExpanded:function(e,t,n){e.stopImmediatePropagation(),this.model&&(this.set("model.expanded",!this.model.expanded),this.async(function(){this.fire("item-resized",this.model.expanded)}))}})}(window.Strand=window.Strand||{});</script></body></html>