<!--
 * @license
 * Copyright (c) 2015 MediaMath Inc. All rights reserved.
 * This code may only be used under the BSD style license found at http://mediamath.github.io/strand/LICENSE.txt
 --><html><head><meta charset="UTF-8"></head><body><div hidden by-vulcanize=""><link rel="import" href="../../bower_components/polymer/polymer.html"><script>(function(a){a.Resolvable={ready:function(){this.hasAttribute('unresolved')&&this.removeAttribute('unresolved')}}})(window.StrandTraits=window.StrandTraits||{});</script><script>(function(a){a.Stylable={styleBlock:function(b){var d=[];for(var e in b){var f=(e+'').replace(/[A-Z]/g,function(g){return'-'+g.toLowerCase()});d.push(f+': '+b[e])}return d.join('; ')},classBlock:function(b){var d=[];for(var e in b)b[e]&&d.push(e);return d.join(' ')}}})(window.StrandTraits=window.StrandTraits||{});</script><script>(function(a){var b={properties:{ref:{type:Object,notify:!0,readOnly:!0,value:function(){return this}}},findById:function(c){return this.$[c]||this.$$('#'+c)}};a.Refable=b})(window.StrandTraits=window.StrandTraits||{});</script></div><dom-module id="strand-spinner"><template><style>:host{position:relative;display:inline-block;vertical-align:middle;overflow:hidden;animation-name:fadeIn;animation-duration:1s;animation-timing-function:ease}@keyframes spin{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}</style><canvas id="spinner" style$="{{spinnerAnimation}}" width$="{{diameter}}" height$="{{diameter}}"></canvas></template></dom-module><script>(function(a){function b(d){var e={};for(var f in d){var g=f.charAt(0).toUpperCase()+f.slice(1);e["-webkit"+g]=d[f],e["-moz"+g]=d[f],e["-ms"+g]=d[f],e["-o"+g]=d[f],e[f]=d[f]}return e}function c(d){var e=parseInt(d.replace("#",""),16);return{r:255&e>>16,g:255&e>>8,b:255&e}}a.Spinner=Polymer({is:"strand-spinner",behaviors:[StrandTraits.Resolvable,StrandTraits.Stylable,StrandTraits.Refable],properties:{radius:{type:Number,value:9},diameter:{type:Number,computed:"_computeDiameter(radius)"},innerRadius:{type:Number,value:0.5},lineWidth:{type:Number,value:0.5},lineWeight:{type:Number,value:0.5},numTicks:{type:Number,value:12},fillColor:{type:String,value:"#ffffff"},bgColor:{type:String,value:null},speed:{type:Number,value:1.33},paused:{type:Boolean,value:!1,reflectToAttribute:!0}},observers:["_initialize(radius, innerRadius, lineWidth, lineWeight, numTicks, fillColor, bgColor, speed)"],_strokeOffset:0.1,ready:function(){this._initialize()},_computeDiameter:function(d){return 2*d},_initialize:function(){this.debounce("initialize",this._draw,0)},_draw:function(){this.style.width=this.style.height=2*this.radius+"px",this.bgColor&&(this.style.backgroundColor=this.bgColor),this._resetAnimation();var d=this.$.spinner,e=d.getContext("2d"),f=e.canvas.width,g=e.canvas.height,h=c(this.fillColor),j=this.numTicks,k=1>this.innerRadius?this.radius*(this.innerRadius-this._strokeOffset):this.innerRadius,l=1>this.lineWidth?this.radius*(this.lineWidth-this._strokeOffset):this.lineWidth,m=1>this.lineWeight?Math.sqrt(this.radius)*this.lineWeight:this.lineWeight;e.save(),e.clearRect(0,0,f,g),e.translate(f/2,g/2);for(var n=0;n<j;n++)e.beginPath(),e.rotate(2*Math.PI/j),e.moveTo(k,0),e.lineTo(k+l,0),e.lineWidth=m,e.lineCap="round",e.strokeStyle="rgba("+h.r+","+h.g+","+h.b+","+n/j+")",e.stroke();e.restore()},_setAnimation:function(){var d=1/this.speed,e=this.numTicks,f=this.paused?"paused":"running";this.spinnerAnimation=this.styleBlock(b({animationName:"spin",animationDuration:d+"s",animationTimingFunction:"steps("+e+", end)",animationPlayState:f,animationIterationCount:"infinite"}))},_resetAnimation:function(){this.resetAnimationFlag?(this.spinnerAnimation=null,this.async(this._setAnimation)):(this.resetAnimationFlag=!0,this._setAnimation())},start:function(){this.paused=!1,this._resetAnimation()},stop:function(){this.paused=!0,this._resetAnimation()}})})(window.Strand=window.Strand||{});</script></body></html>