<!--
 * @license
 * Copyright (c) 2015 MediaMath Inc. All rights reserved.
 * This code may only be used under the BSD style license found at http://mediamath.github.io/strand/LICENSE.txt
 --><html><head><meta charset="UTF-8"></head><body><div hidden by-vulcanize=""><link rel="import" href="../../bower_components/polymer/polymer.html"><script>!function(t){var e={ready:function(){this.hasAttribute("unresolved")&&this.removeAttribute("unresolved")}};t.Resolvable=e}(window.StrandTraits=window.StrandTraits||{});</script><script>!function(r){var n={styleBlock:function(r){var n=[];for(var t in r){var a=String(t).replace(/[A-Z]/g,function(r){return"-"+r.toLowerCase()});n.push(a+": "+r[t])}return n.join("; ")},classBlock:function(r){var n=[];for(var t in r)r[t]&&n.push(t);return n.join(" ")}};r.Stylable=n}(window.StrandTraits=window.StrandTraits||{});</script><script>!function(t){var n={properties:{ref:{type:Object,notify:!0,readOnly:!0,value:function(){return this}}},findById:function(t){return this.$[t]||this.$$("#"+t)}};t.Refable=n}(window.StrandTraits=window.StrandTraits||{});</script></div><dom-module id="strand-spinner"><template><style>:host{position:relative;display:inline-block;vertical-align:middle;overflow:hidden;animation-name:fadeIn;animation-duration:1s;animation-timing-function:ease}@keyframes spin{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}</style><canvas id="spinner" style$="{{spinnerAnimation}}" width$="{{diameter}}" height$="{{diameter}}"></canvas></template></dom-module><script>!function(i){function t(i){var t={};for(var e in i){var n=e.charAt(0).toUpperCase()+e.slice(1);t["-webkit"+n]=i[e],t["-moz"+n]=i[e],t["-ms"+n]=i[e],t["-o"+n]=i[e],t[e]=i[e]}return t}function e(i){var t=parseInt(i.replace("#",""),16);return{r:t>>16&255,g:t>>8&255,b:255&t}}i.Spinner=Polymer({is:"strand-spinner",behaviors:[StrandTraits.Resolvable,StrandTraits.Stylable,StrandTraits.Refable],properties:{radius:{type:Number,value:9},diameter:{type:Number,computed:"_computeDiameter(radius)"},innerRadius:{type:Number,value:.5},lineWidth:{type:Number,value:.5},lineWeight:{type:Number,value:.5},numTicks:{type:Number,value:12},fillColor:{type:String,value:"#ffffff"},bgColor:{type:String,value:null},speed:{type:Number,value:1.33},paused:{type:Boolean,value:!1,reflectToAttribute:!0}},observers:["_initialize(radius, innerRadius, lineWidth, lineWeight, numTicks, fillColor, bgColor, speed)"],_strokeOffset:.1,ready:function(){this._initialize()},_computeDiameter:function(i){return 2*i},_initialize:function(){this.debounce("initialize",this._draw,0)},_draw:function(){this.style.width=this.style.height=2*this.radius+"px",this.bgColor&&(this.style.backgroundColor=this.bgColor),this._resetAnimation();var i=this.$.spinner,t=i.getContext("2d"),n=t.canvas.width,s=t.canvas.height,a=e(this.fillColor),r=this.numTicks,o=this.innerRadius<1?this.radius*(this.innerRadius-this._strokeOffset):this.innerRadius,l=this.lineWidth<1?this.radius*(this.lineWidth-this._strokeOffset):this.lineWidth,h=this.lineWeight<1?Math.sqrt(this.radius)*this.lineWeight:this.lineWeight;t.save(),t.clearRect(0,0,n,s),t.translate(n/2,s/2);for(var u=0;u<r;u++)t.beginPath(),t.rotate(2*Math.PI/r),t.moveTo(o,0),t.lineTo(o+l,0),t.lineWidth=h,t.lineCap="round",t.strokeStyle="rgba("+a.r+","+a.g+","+a.b+","+u/r+")",t.stroke();t.restore()},_setAnimation:function(){var i=1/this.speed,e=this.numTicks,n=this.paused?"paused":"running";this.spinnerAnimation=this.styleBlock(t({animationName:"spin",animationDuration:i+"s",animationTimingFunction:"steps("+e+", end)",animationPlayState:n,animationIterationCount:"infinite"}))},_resetAnimation:function(){this.resetAnimationFlag?(this.spinnerAnimation=null,this.async(this._setAnimation)):(this.resetAnimationFlag=!0,this._setAnimation())},start:function(){this.paused=!1,this._resetAnimation()},stop:function(){this.paused=!0,this._resetAnimation()}})}(window.Strand=window.Strand||{});</script></body></html>