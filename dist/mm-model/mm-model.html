<!--
 * @license
 * Copyright (c) 2015 MediaMath Inc. All rights reserved.
 * This code may only be used under the BSD style license found at http://mediamath.github.io/strand/LICENSE.txt

--><html><head><link rel="import" href="../../bower_components/polymerLegacy/polymer.html"></head><body><polymer-element name="mm-model" attributes="" constructor="MMModel" assetpath=""><template><style type="text/css">:host{display:none}</style><content id="content"></content></template><script>Polymer("mm-model",{ver:"<<version>>",publish:{mid:"",cid:"",collection:null,adapter:"",adapterInstance:{},defaults:null,data:null,auto:false},ready:function(){if(!this.data)this.data={}},observe:{"data.id mid":"idHandler"},init:function(){if(Object.keys(this.data).length===0){this.data=this.defaults}},adapterChanged:function(oldAdapter,newAdapter){if(typeof newAdapter==="string"&&window[newAdapter]){this.adapterInstance=new window[newAdapter];this.adapterInstance.target=this;this.adapterInstance.auto=this.auto}},autoChanged:function(oldAuto,newAuto){if(this.adapterInstance)this.adapterInstance.auto=newAuto},save:function(){return this.connection.post()},update:function(){return this.connection.put()},fetch:function(){return this.connection.get()},destroy:function(){return this.connection.delete()},clear:function(){this.data={}},get:function(property,obj){obj=obj||this.data;var p=Path.get(property);return p.getValueFrom(obj)},set:function(property,value,obj){obj=obj||this.data;var p=Path.get(property);return p.setvalueFrom(obj,value)},toJSON:function(){return JSON.stringify(this.data)},get connection(){return this.adapterInstance},idHandler:function(oldValue,newValue){if(this.mid!==newValue){this.mid=newValue}if(this.data&&this.data.id!==newValue){this.data.id=newValue}}});</script></polymer-element></body></html>