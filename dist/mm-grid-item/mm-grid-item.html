<!--
 * @license
 * Copyright (c) 2015 MediaMath Inc. All rights reserved.
 * This code may only be used under the BSD style license found at http://mediamath.github.io/strand/LICENSE.txt
 --><html><head><meta charset="UTF-8"><link rel="import" href="../../bower_components/polymer/polymer.html"><link rel="import" href="../mm-checkbox/mm-checkbox.html"><link rel="import" href="../mm-icon/mm-icon.html"><link rel="import" href="../mm-spinner/mm-spinner.html"></head><body><div hidden by-vulcanize=""><script>!function(n){var t={properties:{ref:{type:Object,notify:!0,readOnly:!0,value:function(){return this}}},findById:function(n){return this.$[n]}};n.Refable=t}(window.StrandTraits=window.StrandTraits||{});</script></div><dom-module id="mm-grid-item"><template><style>:host ._mm_column{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;padding:0 10px;vertical-align:middle;box-sizing:border-box;float:left}:host ._mm_column.right{text-align:right}:host ._mm_column.checkbox,:host ._mm_column.toggle{box-sizing:content-box;margin:auto 0;padding:0 5px}:host ._mm_column.checkbox:first-of-type,:host ._mm_column.toggle:first-of-type{padding-left:15px}:host ._mm_column.checkbox{width:18px}:host ._mm_column.toggle{width:10px}:host ._mm_column.toggle mm-icon{cursor:pointer;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}:host ._mm_column.toggle.expanded mm-icon{-webkit-transform:rotate(0);transform:rotate(0)}:host{display:block;position:relative;overflow:hidden;background:#fff;font-family:Arimo,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-smoothing:antialiased;font-weight:400;font-size:12px;color:#333;border-bottom:1px solid #E5E5E5}polyfill-next-selector{content:':host ._mm_item'}._mm_item{padding:10px 0}#columnContainer{overflow:hidden;white-space:nowrap}#loader{position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}::content [field]{overflow:inherit;text-overflow:inherit;white-space:inherit}::content .expansion{background:#f5f5f5;color:#4C4C4C;box-shadow:inset 0 2px 2px #e9e9e9,inset 0 -2px 2px #e9e9e9;overflow:hidden}::content .expansion-row{border-bottom:1px solid #E5E5E5;padding:10px 10px 10px 40px;display:-webkit-flex;display:-ms-flexbox;display:flex}::content .expansion-col{margin-right:20px;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1}</style><div class="_mm_item" hidden$="{{!model}}"><div class="_mm_column checkbox" hidden$="{{!scope.selectable}}"><mm-checkbox on-tap="_onItemSelected" checked="{{model.selected}}"></mm-checkbox></div><div id="carat" class="_mm_column toggle" hidden$="{{!scope.expandable}}"><mm-icon width="10" height="10" type="carat" on-tap="_onItemExpanded"></mm-icon></div><div id="columnContainer"><template is="dom-repeat" items="{{scope._columns}}" as="column" on-dom-change="_checkDistributedNodesAsync"><div class$="{{_computeColumnClass(column.align)}}" style$="{{_computeColumnStyle(column.width)}}"><content id="{{column.field}}" select$="{{_columnContentSelector(column.field)}}"></content><span hidden$="{{_isOverridden(column.field, _overridden.*)}}">[[_computeColumnValue(column.field, model, model.*)]]</span></div></template></div></div><template is="dom-if" if="{{!model}}"><mm-spinner id="loader" radius="12" fill-color="#333333"></mm-spinner></template><template is="dom-if" if="{{model.expanded}}" restamp="true"><content id="expansion" select=".expansion"></content></template></template></dom-module><script>!function(e){e.GridItem=Polymer({is:"mm-grid-item",behaviors:[StrandTraits.Refable],properties:{model:{type:Object,value:null},scope:Object,_overridden:{type:Object,value:function(){return{}}}},observers:["_expansionChanged(model.expanded)"],_expansionChanged:function(e){this.toggleClass("expanded",!!e,this.$.carat)},_checkDistributedNodesAsync:function(e){this.debounce("checkDistributedNodes",this._checkDistributedNodes)},_checkDistributedNodes:function(){var e=Polymer.dom(this.$.columnContainer).querySelectorAll("content"),t=e.length,n=0,i=null;for(n=0;t>n;n++)i=e[n],Polymer.dom(i).getDistributedNodes().length&&this.set("_overridden."+i.id,1)},_isOverridden:function(e){return this._overridden[e]},_columnContentSelector:function(e){return"[field='"+e+"']"},_computeColumnValue:function(e,t,n){return t?t[e]:""},_computeColumnClass:function(e){return"_mm_column "+(e||"")},_computeColumnStyle:function(e){return"width: "+e},_onItemSelected:function(e,t,n){e.stopImmediatePropagation(),this.fire("item-selected",this.model)},_onItemExpanded:function(e,t,n){e.stopImmediatePropagation(),this.set("model.expanded",!this.model.expanded),this.async(function(){this.fire("item-resized",this.model.expanded)})}})}(window.Strand=window.Strand||{});</script></body></html>