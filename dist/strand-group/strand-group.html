<!--
 * @license
 * Copyright (c) 2015 MediaMath Inc. All rights reserved.
 * This code may only be used under the BSD style license found at http://mediamath.github.io/strand/LICENSE.txt
 --><html><head><meta charset="UTF-8"><link rel="import" href="../../bower_components/polymer/polymer.html"></head><body><div hidden by-vulcanize=""><script>!function(t){var e={ready:function(){this.hasAttribute("unresolved")&&this.removeAttribute("unresolved")}};t.Resolvable=e}(window.StrandTraits=window.StrandTraits||{});</script><script>!function(t){var e={properties:{contentTarget:{type:Object,value:function(){return this}}},getLightDOM:function(){return Polymer.dom(this.contentTarget).queryDistributedElements("*")}};t.LightDomGettable=e}(window.StrandTraits=window.StrandTraits||{});</script><script>!function(e){var t={properties:{_filterElementType:{type:String,value:"mm-list-item"},_filter:{type:Boolean,value:!0},_searchable:{type:Boolean,value:!1},selectedIndex:{type:Number,value:!1,observer:"_selectedIndexChanged"},_highlightedIndex:{type:Number,value:null,observer:"_highlightedIndexChanged"},_minIndex:{type:Number,value:0},_maxIndex:{type:Number,value:null}},get items(){var e=null,t=this._filterElementType;return e=this._filter?this.data?this._searchable?this._searchData:this.data:this.getLightDOM().filter(function(e){return e.localName===t}):this.getLightDOM()},_selectedIndexChanged:function(e,t){},_highlightedIndexChanged:function(e,t){}};e.Selectable=[e.LightDomGettable,t]}(window.StrandTraits=window.StrandTraits||{});</script><script>!function(n){var t={properties:{ref:{type:Object,notify:!0,readOnly:!0,value:function(){return this}}},findById:function(n){return this.$[n]}};n.Refable=t}(window.StrandTraits=window.StrandTraits||{});</script></div><dom-module id="mm-group"><template><style>:host{position:relative;display:inline-block;vertical-align:middle;font-size:0;line-height:0}:host([disabled]){pointer-events:none;opacity:.5}:host([fitparent]){width:100%}:host([align=horizontal]),:host([align=vertical]){display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex}:host([align=vertical]){-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column}:host([align=horizontal][fitparent]){-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between}</style><content select="*" id="items"></content></template></dom-module><script>!function(t){t.Group=Polymer({is:"mm-group",behaviors:[StrandTraits.Resolvable,StrandTraits.Selectable],properties:{fitparent:{type:String,reflectToAttribute:!0,observer:"_fitparentChanged"},group:{type:String,reflectToAttribute:!0,observer:"_groupChanged"},align:{type:String,reflectToAttribute:!0,observer:"_alignChanged"},value:{type:String,reflectToAttribute:!0,notify:!0,observer:"_valueChanged"},_filter:{type:Boolean,value:!1},_filterElementType:{type:String,value:"*"},_type:{type:String,value:!1},_itemsByTagName:{type:Object,value:null}},HALIGN:"horizontal",VALIGN:"vertical",HALIGN_LEFT:"hgroup-left",HALIGN_CENTER:"hgroup-center",HALIGN_RIGHT:"hgroup-right",VALIGN_TOP:"vgroup-top",VALIGN_CENTER:"vgroup-center",VALIGN_BOTTOM:"vgroup-bottom",listeners:{tap:"_updateSelectedItem",selected:"_radioSelected"},ready:function(){this._type=this._getType()},attached:function(){"mm-radio"===this._type&&this._radioSelected(),this.group||(this.group=this._createId()),this.align||(this.align=this.HALIGN)},_getType:function(){var t="";this._itemsByTagName=this.items.reduce(this._countTags.bind(this),{});var e=Object.keys(this._itemsByTagName).length;return t=1===e?Object.keys(this._itemsByTagName)[0]:"mixed-type"},_countTags:function(t,e){var i=e.tagName.toLowerCase();return t[i]=t[i]||0,t[i]++,t},_updateSelectedItem:function(t){if("mm-button"===this._type){var e=Polymer.dom(t).localTarget,i=this.items.indexOf(e);i>=0&&(this.selectedIndex=i)}},_selectedIndexChanged:function(t,e){if("number"==typeof t){var i=this.items[t],r=(this.items[e],i.value?i.value:i.textContent.trim());this.value!==r&&(this.value=r),i.toggleAttribute("selected"),this.fire("selected",{item:i,index:t,value:this.value,selected:!0})}"number"==typeof e&&this.items[e].toggleAttribute("selected")},_fitparentChanged:function(t,e){this.items.forEach(this._setItemFit,this)},_setItemFit:function(t){t.setAttribute("fitparent",this.fitparent)},_alignChanged:function(t,e){this.items.forEach(this._setItemAlign.bind(this))},_setItemAlign:function(t,e){var i=this.align!==this.HALIGN?this.VALIGN_TOP:this.HALIGN_LEFT,r=this.align!==this.HALIGN?this.VALIGN_CENTER:this.HALIGN_CENTER,n=this.align!==this.HALIGN?this.VALIGN_BOTTOM:this.HALIGN_RIGHT;0===e?t.setAttribute("_layout",i):e===this.items.length-1?t.setAttribute("_layout",n):t.setAttribute("_layout",r)},_groupChanged:function(t,e){this.items.forEach(this._setItemGroup.bind(this))},_setItemGroup:function(t){t.setAttribute("group",this.group)},_radioSelected:function(t){if("mm-radio"===this._type){var e=this.items.filter(function(t){return t.hasAttribute("checked")})[0];e&&(this.value=e.getAttribute("value")||e.textContent.trim())}},_selectRadioByValue:function(t){this.items.forEach(function(e){var i=e.getAttribute("value")||e.textContent.trim();i!==t||e.checked||(e.checked=!0)})},_valueChanged:function(t,e){this.async(function(){"mm-radio"===this._type&&this._selectRadioByValue(t)}),this.fire("changed",{value:t})},_createId:function(){var t=(new Date).valueOf(),e=Math.floor(99*Math.random()+1),i="g"+e+"_"+t;return i}})}(window.Strand=window.Strand||{});</script></body></html>